
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mind Map des Fonctionnalités Pandas avec Explications</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            padding: 2rem;
        }
        .mindmap-body {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 4rem;
            flex-wrap: wrap;
        }
        .mindmap-center {
            flex-shrink: 0;
        }
        .central-node {
            background-color: #1d4ed8;
            color: white;
            padding: 1.5rem 3rem;
            border-radius: 50px;
            font-size: 2.5rem;
            font-weight: 700;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 5px solid white;
        }
        .mindmap-branch {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        .category-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            width: 420px; /* Largeur augmentée */
            position: relative;
        }
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        /* Lignes de connexion */
        .branch-left .category-card::after {
            content: '';
            position: absolute;
            right: -2rem;
            top: 50%;
            transform: translateY(-50%);
            width: 2rem;
            height: 2px;
            background-color: #9ca3af;
        }
        .branch-right .category-card::before {
            content: '';
            position: absolute;
            left: -2rem;
            top: 50%;
            transform: translateY(-50%);
            width: 2rem;
            height: 2px;
            background-color: #9ca3af;
        }
        .category-title {
            font-size: 1.25rem;
            font-weight: 600;
            padding: 1rem;
            color: white;
        }
        .feature-item {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
        }
        .feature-name {
            font-weight: 500;
            color: #111827;
            margin-bottom: 0.5rem;
        }
        pre {
            background-color: #1f2937;
            color: #d1d5db;
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.875rem;
            white-space: pre-wrap; /* Permet au code de passer à la ligne */
            word-break: break-word; /* Casse les mots longs pour éviter le débordement */
        }
        code {
            font-family: 'Fira Code', 'Courier New', monospace;
        }
        .explanation-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            transition: transform 0.2s;
        }
        .explanation-btn:hover {
            transform: scale(1.2);
        }
        .modal-content-text {
            line-height: 1.6;
        }
        @keyframes fade-in {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in {
            animation: fade-in 0.3s ease-out forwards;
        }
        /* Couleurs pour les catégories */
        .bg-cat-1 { background-color: #4f46e5; } /* Indigo */
        .bg-cat-2 { background-color: #059669; } /* Emerald */
        .bg-cat-3 { background-color: #db2777; } /* Pink */
        .bg-cat-4 { background-color: #d97706; } /* Amber */
        .bg-cat-5 { background-color: #6d28d9; } /* Violet */
        .bg-cat-6 { background-color: #0891b2; } /* Cyan */
        .bg-cat-7 { background-color: #be185d; } /* Fuchsia */

        @media (max-width: 1024px) {
            .mindmap-body {
                flex-direction: column;
                gap: 2rem;
            }
            .branch-left .category-card::after, .branch-right .category-card::before {
                display: none;
            }
            .category-card {
                width: 100%;
            }
        }
    </style>
</head>
<body>

    <div class="mindmap-body">
        
        <!-- Branche Gauche -->
        <div class="mindmap-branch branch-left">
            <div class="category-card">
                <div class="category-title bg-cat-1">1. Structures de Données</div>
                <div class="feature-item" data-feature-name="Création d'un DataFrame">
                    <div class="flex justify-between items-start">
                        <div class="feature-name">Création d'un DataFrame</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>import pandas as pd
data = {'Noms': ['Alice', 'Bob'], 'Âges': [25, 30]}
df = pd.DataFrame(data)</code></pre>
                </div>
            </div>
            <div class="category-card">
                <div class="category-title bg-cat-3">3. Sélection et Filtrage</div>
                <div class="feature-item" data-feature-name="Filtrage par condition">
                    <div class="flex justify-between items-start">
                        <div class="feature-name">Filtrage par condition</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>df_filtre = df[df['Âges'] > 28]</code></pre>
                </div>
                 <div class="feature-item" data-feature-name="Sélection par position (iloc)">
                    <div class="flex justify-between items-start">
                        <div class="feature-name">Sélection par position (iloc)</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>premiere_ligne = df.iloc[0]</code></pre>
                </div>
            </div>
            <div class="category-card">
                <div class="category-title bg-cat-5">5. Combinaison de Données</div>
                <div class="feature-item" data-feature-name="Merge (Jointure)">
                     <div class="flex justify-between items-start">
                        <div class="feature-name">Merge (Jointure)</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>df_final = pd.merge(df1, df2, on='id_commun')</code></pre>
                </div>
                <div class="feature-item" data-feature-name="Concat (Empilement)">
                     <div class="flex justify-between items-start">
                        <div class="feature-name">Concat (Empilement)</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>df_empile = pd.concat([df1, df2])</code></pre>
                </div>
            </div>
        </div>

        <!-- Centre -->
        <div class="mindmap-center">
            <h1 class="central-node">Pandas</h1>
        </div>

        <!-- Branche Droite -->
        <div class="mindmap-branch branch-right">
            <div class="category-card">
                <div class="category-title bg-cat-2">2. Lecture et Écriture (I/O)</div>
                <div class="feature-item" data-feature-name="Lecture d'un fichier CSV">
                    <div class="flex justify-between items-start">
                        <div class="feature-name">Lecture d'un fichier CSV</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>df = pd.read_csv('mon_fichier.csv')</code></pre>
                </div>
                 <div class="feature-item" data-feature-name="Écriture dans un fichier Excel">
                    <div class="flex justify-between items-start">
                        <div class="feature-name">Écriture dans un fichier Excel</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>df.to_excel('nouveau_fichier.xlsx', index=False)</code></pre>
                </div>
            </div>
            <div class="category-card">
                <div class="category-title bg-cat-4">4. Manipulation des Données</div>
                <div class="feature-item" data-feature-name="Apply">
                     <div class="flex justify-between items-start">
                        <div class="feature-name">Apply</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>df['Âges+1'] = df['Âges'].apply(lambda x: x + 1)</code></pre>
                </div>
                <div class="feature-item" data-feature-name="Group By">
                     <div class="flex justify-between items-start">
                        <div class="feature-name">Group By</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>ventes_par_cat = df.groupby('Catégorie').sum()</code></pre>
                </div>
            </div>
            <div class="category-card">
                <div class="category-title bg-cat-6">6. Gestion des Données Manquantes</div>
                <div class="feature-item" data-feature-name="Supprimer les NaN (dropna)">
                     <div class="flex justify-between items-start">
                        <div class="feature-name">Supprimer les NaN (dropna)</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>df_propre = df.dropna()</code></pre>
                </div>
                <div class="feature-item" data-feature-name="Remplacer les NaN (fillna)">
                     <div class="flex justify-between items-start">
                        <div class="feature-name">Remplacer les NaN (fillna)</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>df_rempli = df.fillna(0)</code></pre>
                </div>
            </div>
            <div class="category-card">
                <div class="category-title bg-cat-7">7. Remodelage des Données</div>
                <div class="feature-item" data-feature-name="Pivot Table">
                     <div class="flex justify-between items-start">
                        <div class="feature-name">Pivot Table</div>
                        <button class="explanation-btn">✨</button>
                    </div>
                    <pre><code>pivot = df.pivot_table(index='Date', columns='Produit')</code></pre>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="explanation-modal" class="fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center hidden z-50 p-4">
        <div class="bg-white rounded-xl shadow-xl w-11/12 max-w-2xl relative animate-fade-in">
            <div class="p-6">
                <button id="modal-close-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-800 text-3xl leading-none">&times;</button>
                <h2 id="modal-title" class="text-2xl font-bold mb-4 text-gray-800">Explication</h2>
                <div id="modal-content" class="mt-4 text-gray-700 max-h-[60vh] overflow-y-auto pr-2 modal-content-text">
                    <!-- Explanation will be injected here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('explanation-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalContent = document.getElementById('modal-content');
            const closeBtn = document.getElementById('modal-close-btn');
            const explanationBtns = document.querySelectorAll('.explanation-btn');

            const explanations = {
                "Création d'un DataFrame": "Ce code crée un <strong>DataFrame</strong>, la structure de base de Pandas, qui ressemble à un tableau. On utilise un dictionnaire Python où les clés (<code>'Noms'</code>, <code>'Âges'</code>) deviennent les noms des colonnes, et les listes de valeurs deviennent les lignes de ces colonnes.",
                "Lecture d'un fichier CSV": "La fonction <code>pd.read_csv()</code> est l'une des plus utilisées. Elle permet de lire un fichier au format CSV (valeurs séparées par des virgules) et de le charger directement dans un DataFrame Pandas pour l'analyse.",
                "Écriture dans un fichier Excel": "La méthode <code>.to_excel()</code> permet de sauvegarder votre DataFrame dans un fichier Excel (.xlsx). L'argument <code>index=False</code> est important car il évite d'écrire l'index de Pandas (0, 1, 2...) comme une colonne dans le fichier Excel.",
                "Filtrage par condition": "Ceci est une technique de <strong>filtrage booléen</strong>. <code>df['Âges'] > 28</code> crée une série de Vrai/Faux. En plaçant cela entre crochets <code>df[...]</code>, on ne garde que les lignes où la condition est 'Vrai'.",
                "Sélection par position (iloc)": "<code>.iloc[]</code> permet de sélectionner des données par leur <strong>position numérique</strong> (index entier). <code>df.iloc[0]</code> récupère la toute première ligne du DataFrame, <code>df.iloc[:, 0]</code> la première colonne, et <code>df.iloc[0, 0]</code> la cellule en haut à gauche.",
                "Merge (Jointure)": "<code>pd.merge()</code> combine deux DataFrames en se basant sur une ou plusieurs colonnes communes, comme une <strong>jointure SQL</strong>. L'argument <code>on='id_commun'</code> spécifie la colonne à utiliser pour aligner les données des deux tables.",
                "Concat (Empilement)": "<code>pd.concat()</code> permet d'assembler plusieurs DataFrames, soit en les empilant les uns sur les autres (par défaut), soit côte à côte (en utilisant <code>axis=1</code>). C'est utile pour combiner des fichiers qui ont les mêmes colonnes.",
                "Apply": "La méthode <code>.apply()</code> est très puissante. Elle permet d'appliquer une fonction à chaque élément d'une colonne (ou d'une ligne). Ici, on utilise une fonction <strong>lambda</strong> pour ajouter 1 à chaque âge de la colonne 'Âges'.",
                "Group By": "<code>.groupby()</code> est essentiel pour l'analyse. Il regroupe les lignes ayant la même valeur dans une colonne (ici, 'Catégorie'). Ensuite, on peut appliquer une fonction d'agrégation comme <code>.sum()</code> pour calculer la somme pour chaque groupe.",
                "Supprimer les NaN (dropna)": "Les données du monde réel sont souvent incomplètes. <code>.dropna()</code> est une méthode simple pour <strong>supprimer toutes les lignes</strong> contenant au moins une valeur manquante (NaN, Not a Number).",
                "Remplacer les NaN (fillna)": "Plutôt que de supprimer les données manquantes, <code>.fillna(0)</code> permet de les <strong>remplacer par une valeur spécifique</strong>, ici 0. C'est utile pour ne pas perdre d'informations.",
                "Pivot Table": "<code>.pivot_table()</code> permet de réorganiser les données d'un DataFrame pour créer une vue synthétique, comme un <strong>tableau croisé dynamique</strong> dans Excel. On choisit des colonnes pour les nouveaux index, les nouvelles colonnes, et les valeurs à agréger."
            };

            const openModal = (featureName) => {
                modalTitle.innerText = `Explication : ${featureName}`;
                modalContent.innerHTML = explanations[featureName] || "Explication non disponible.";
                modal.classList.remove('hidden');
            };

            const closeModal = () => {
                modal.classList.add('hidden');
            };

            explanationBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const featureItem = e.currentTarget.closest('.feature-item');
                    const featureName = featureItem.dataset.featureName;
                    openModal(featureName);
                });
            });

            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>
