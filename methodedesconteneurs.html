<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cheat Sheet Python - Synapse Learners</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --couleur-principale: #6a3093;
            --couleur-secondaire: #a044ff;
            --couleur-vert: #28a745;
            --couleur-orange: #fd7e14;
            --couleur-fond: #f4f7f9;
            --couleur-texte: #333;
            --couleur-texte-clair: #555;
            --couleur-blanc: #ffffff;
            --couleur-gris-clair: #e9ecef;
            --code-bg: #2b2b2b;
            --ombre: 0 4px 15px rgba(0, 0, 0, 0.05);
            --gradient-principal: linear-gradient(45deg, var(--couleur-principale), var(--couleur-secondaire));
        }

        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        html { scroll-behavior: smooth; }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--couleur-fond);
            color: var(--couleur-texte);
            margin: 0; padding: 0; overflow-x: hidden;
        }
        .container { width: 100%; max-width: 1100px; margin: 0 auto; padding: 2rem; box-sizing: border-box; }
        .page-title { text-align: center; margin-bottom: 3rem; }
        .page-title h1 {
            font-size: 3.5rem; font-weight: 700;
            background: var(--gradient-principal);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem; animation: fadeInDown 0.8s ease-out;
        }
        .page-title p { font-size: 1.2rem; color: var(--couleur-texte-clair); max-width: 700px; margin: 0 auto; animation: fadeInUp 0.8s ease-out 0.2s backwards; }
        
        /* --- NOUVEAU: Barre de recherche --- */
        .search-container {
            margin-bottom: 2.5rem;
            animation: fadeInUp 0.8s ease-out 0.4s backwards;
        }
        #search-input {
            width: 100%;
            padding: 1rem 1.5rem;
            font-size: 1.1rem;
            font-family: 'Poppins', sans-serif;
            border-radius: 50px;
            border: 2px solid var(--couleur-gris-clair);
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            box-sizing: border-box;
        }
        #search-input:focus, #search-input:focus-visible {
            outline: none;
            border-color: var(--couleur-secondaire);
            box-shadow: 0 0 0 4px rgba(160, 68, 255, 0.2);
        }

        .legend-section { background-color: var(--couleur-blanc); padding: 1.5rem 2rem; border-radius: 12px; margin-bottom: 4rem; box-shadow: var(--ombre); display: flex; justify-content: center; align-items: center; gap: 2.5rem; flex-wrap: wrap; border: 1px solid var(--couleur-gris-clair); }
        .legend-item { display: flex; align-items: center; gap: 0.75rem; font-size: 1rem; font-weight: 500; }
        .indicator { width: 18px; height: 18px; border-radius: 50%; flex-shrink: 0; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .returns-value { background-color: var(--couleur-vert); }
        .modifies-inplace { background-color: var(--couleur-orange); }
        .cheatsheet-section { margin-bottom: 1.5rem; }
        .section-header {
            font-size: 2.5rem; color: var(--couleur-principale);
            margin-bottom: 1rem; border-bottom: 3px solid;
            border-image: var(--gradient-principal) 1;
            padding-bottom: 0.75rem; display: flex; align-items: center;
            justify-content: space-between; cursor: pointer;
            -webkit-tap-highlight-color: transparent; transition: margin-bottom 0.5s ease-in-out;
        }
        .section-header > span { display: flex; align-items: center; gap: 1rem; }
        .section-header.collapsed { margin-bottom: 0; }
        .section-toggle-icon { transition: transform 0.5s ease-in-out; }
        .section-toggle-icon.collapsed { transform: rotate(-180deg); }
        .section-content { display: grid; grid-template-rows: 1fr; transition: grid-template-rows 0.5s ease-in-out; overflow: hidden; }
        .section-content.collapsed { grid-template-rows: 0fr; }
        .section-content > .inner-content { overflow: hidden; padding-top: 1rem; }

        .section-controls { display: flex; gap: 0.75rem; margin-bottom: 1.5rem; }
        .control-btn {
            background: none;
            border: 1px solid var(--couleur-principale);
            color: var(--couleur-principale);
            padding: 0.4rem 1rem; border-radius: 20px; cursor: pointer;
            font-size: 0.8rem; font-weight: 600; font-family: 'Poppins', sans-serif;
            transition: all 0.2s ease;
        }
        .control-btn:hover { background-color: var(--couleur-principale); color: white; }
        .control-btn:focus-visible {
             outline: 2px solid var(--couleur-secondaire);
             outline-offset: 2px;
        }
        
        .code-block { background-color: var(--code-bg); border-radius: 12px; margin-bottom: 1.5rem; border: 1px solid #444; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .code-block.is-visible { opacity: 1; transform: translateY(0); }
        
        .code-header { background-color: #3a3a3a; padding: 0.75rem 1.5rem; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .code-title-container { display: flex; align-items: center; gap: 1rem; flex-grow: 1; flex-wrap: wrap; }
        .code-title { color: #e0e0e0; font-family: 'Source Code Pro', monospace; font-weight: 600; font-size: 1.1rem; }
        .code-subtitle { color: #b0b0b0; font-family: 'Poppins', sans-serif; font-size: 0.9rem; font-weight: 400; font-style: italic; white-space: nowrap; }
        .copy-btn { background-color: #555; color: #fff; border: none; padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; font-size: 0.9rem; transition: all 0.2s ease; flex-shrink: 0; z-index: 10; }
        .copy-btn:hover { background-color: var(--couleur-secondaire); transform: scale(1.05); }
        .toggle-explanation { color: #f5a623; transition: transform 0.4s ease; margin-left: auto; }
        .toggle-explanation.open { transform: rotate(180deg); }

        .code-content-wrapper { display: grid; grid-template-rows: 0fr; transition: grid-template-rows 0.5s ease-in-out; }
        .code-content-wrapper.open { grid-template-rows: 1fr; }
        .code-content { overflow: hidden; }

        .explanation-content { padding: 1.5rem; border-top: 1px solid #555; background-color: #3a3a3a; color: #e0e0e0; font-size: 0.95rem; line-height: 1.6; }
        .explanation-content h4 { color: #f5a623; margin-top: 0; margin-bottom: 0.5rem; font-weight: 600; }
        .explanation-content p, .explanation-content ul { margin-top: 0; margin-bottom: 1rem; }
        .explanation-content ul { padding-left: 20px; }
        .explanation-content li { margin-bottom: 0.5rem; }
        .explanation-content code { background-color: #555; padding: 0.2em 0.4em; border-radius: 3px; font-size: 0.9em; }
        pre { margin: 0; padding: 1.5rem; white-space: pre-wrap; word-wrap: break-word; }
        code { color: #f1f1f1; font-family: 'Source Code Pro', monospace; font-size: 1rem; line-height: 1.5; }
        .comment { color: #8a8a8a; } .keyword { color: #cf8e6d; } .function { color: #6db0cf; } .string { color: #9ddc9a; } .number { color: #b5cea8; } .variable { color: #dcdcaa; }
        footer { text-align: center; margin-top: 4rem; padding: 2rem 0; border-top: 1px solid var(--couleur-gris-clair); color: var(--couleur-texte-clair); font-size: 0.9rem; }
        
        @media (max-width: 768px) {
            .page-title h1 { font-size: 2.5rem; } .page-title p { font-size: 1rem; }
            .section-header { font-size: 2rem; }
            .legend-section { flex-direction: column; gap: 1rem; align-items: flex-start; }
            .code-title-container { gap: 0.5rem; }
            .code-subtitle { width: 100%; text-align: left; margin-top: -0.5rem; }
        }
        
        /* ‚úÖ NOUVEAU STYLE √Ä AJOUTER */
.global-controls {
    display: flex;
    justify-content: center;
    margin-bottom: 2rem;
    margin-top: -2rem; /* Pour r√©duire l'espace avec la l√©gende */
}
    </style>
</head>
<body>
    <a href="https://www.synapselearners.com/" target="_blank" id="site-logo" title="Retour au site Synapse Learners">
        <img src="https://d1yei2z3i6k35z.cloudfront.net/3391351/67771c6b52bbc_LogoSynapseLearners.png" alt="Logo Synapse Learners">
    </a>

    <div class="container">
        <header><section class="page-title"><h1>Cheat Sheet Python</h1><p>Une liste de m√©thodes Python essentielles.</p></section></header>
        <main>
            <div class="search-container">
                <input type="search" id="search-input" placeholder="üîé Rechercher une m√©thode (ex: split, replace...)" aria-label="Rechercher une m√©thode">
            </div>

            <section class="legend-section"><div class="legend-item"><span class="indicator returns-value"></span><span>Renvoie un nouveau r√©sultat</span></div><div class="legend-item"><span class="indicator modifies-inplace"></span><span>Modifie l'objet sur place</span></div></section>
            <div class="global-controls">
    <button class="control-btn" id="toggle-all-sections-btn" data-state="collapsed">
        <i data-lucide="chevrons-down-up" style="width:16px; height:16px; vertical-align: middle; margin-right: 8px;"></i>
        <span>Tout D√©plier</span>
    </button>
</div>

<section id="strings" class="cheatsheet-section">
            
            <section id="strings" class="cheatsheet-section">
                <h2 class="section-header collapsed"><span>üî° Cha√Ænes de caract√®res (str)</span><i data-lucide="chevron-up" class="section-toggle-icon"></i></h2>
                <div class="section-content collapsed">
                    <div class="inner-content">
                        <div class="section-controls collapsed">
                            <button class="control-btn" id="expand-all-strings">Tout D√©plier</button>
<button class="control-btn" id="collapse-all-strings">Tout Plier</button>
                        </div>
                        <div id="strings-content-container"></div>
                    </div>
                </div>
            </section>

            <section id="lists" class="cheatsheet-section">
                <h2 class="section-header collapsed"><span>‚õìÔ∏è Listes (list)</span><i data-lucide="chevron-up" class="section-toggle-icon collapsed"></i></h2>
                <div class="section-content collapsed">
    <div class="inner-content">
        <div class="section-controls">
            <button class="control-btn" id="expand-all-lists">Tout D√©plier</button>
            <button class="control-btn" id="collapse-all-lists">Tout Plier</button>
        </div>
        <!-- LE CONTENU DES LISTES SERA INJECT√â ICI PAR JAVASCRIPT -->
        <div id="lists-content-container"></div>
    </div>
</div>
                
            </section>
            
            <section id="dictionaries" class="cheatsheet-section">
                <h2 class="section-header collapsed"><span>üîë Dictionnaires (dict)</span><i data-lucide="chevron-up" class="section-toggle-icon collapsed"></i></h2>
                <div class="section-content collapsed">
    <div class="inner-content">
        <div class="section-controls">
            <button class="control-btn" id="expand-all-dictionaries">Tout D√©plier</button>
            <button class="control-btn" id="collapse-all-dictionaries">Tout Plier</button>
        </div>
        <div id="dictionaries-content-container"></div>
    </div>
</div>
            </section>
            
            <section id="sets" class="cheatsheet-section">
                <h2 class="section-header collapsed"><span>üí† Ensembles (set)</span><i data-lucide="chevron-up" class="section-toggle-icon collapsed"></i></h2>
                <div class="section-content collapsed">
    <div class="inner-content">
        <div class="section-controls">
            <button class="control-btn" id="expand-all-sets">Tout D√©plier</button>
            <button class="control-btn" id="collapse-all-sets">Tout Plier</button>
        </div>
        <div id="sets-content-container"></div>
    </div>
</div>
            </section>
            
            <section id="tuples" class="cheatsheet-section">
                <h2 class="section-header collapsed"><span>üì¶ Tuples (tuple)</span><i data-lucide="chevron-up" class="section-toggle-icon collapsed"></i></h2>
                <div class="section-content collapsed">
    <div class="inner-content">
        <div class="section-controls">
            <button class="control-btn" id="expand-all-tuples">Tout D√©plier</button>
            <button class="control-btn" id="collapse-all-tuples">Tout Plier</button>
        </div>
        <div id="tuples-content-container"></div>
    </div>
</div>
            </section>

    <script>
    // --- Initialisation des ic√¥nes Lucide ---
    lucide.createIcons();

    // --- 1. BASE DE DONN√âES DES M√âTHODES (APPROCHE DE MAINTENABILIT√â) ---
    // Au lieu d'√©crire du HTML, on g√®re une structure de donn√©es simple.
    const stringMethods = [
        {
            title: 'str.strip()',
            subtitle: 'Retirer les espaces/caract√®res aux extr√©mit√©s.',
            type: 'returns-value',
            explanation: {
                description: "Retire les caract√®res sp√©cifi√©s du d√©but ET de la fin. Si l'argument est omis, retire les espaces blancs par d√©faut.",
                arguments: "<li><code>chars</code> (optionnel) : Cha√Æne de caract√®res √† retirer.</li>",
                returns: "Une <strong>nouvelle cha√Æne</strong> nettoy√©e."
            },
            code: `<span class="comment"># --- Cas m√©tier : Nettoyer une colonne Pandas ---</span>
<span class="variable">df</span>[<span class="string">'ville_propre'</span>] = <span class="variable">df</span>[<span class="string">'ville'</span>].<span class="variable">str</span>.<span class="function">strip</span>()`
        },
        {
            title: 'str.lower()',
            subtitle: 'Convertir en minuscules.',
            type: 'returns-value',
            explanation: {
                description: "Convertit toute la cha√Æne en minuscules.",
                arguments: "<p>Aucun.</p>",
                returns: "Une <strong>nouvelle cha√Æne</strong> en minuscules."
            },
            code: `<span class="comment"># --- Cas m√©tier : Normaliser pour un 'groupby' ---</span>
<span class="variable">df</span>[<span class="string">'pays_norm'</span>] = <span class="variable">df</span>[<span class="string">'pays'</span>].<span class="variable">str</span>.<span class="function">lower</span>()
<span class="variable">df</span>.<span class="function">groupby</span>(<span class="string">'pays_norm'</span>)[<span class="string">'ventes'</span>].<span class="function">sum</span>()`
        },
        {
            title: 'str.upper()',
            subtitle: 'Convertir en majuscules.',
            type: 'returns-value',
            explanation: {
                description: "Convertit toute la cha√Æne en majuscules.",
                arguments: "<p>Aucun.</p>",
                returns: "Une <strong>nouvelle cha√Æne</strong> en majuscules."
            },
            code: `<span class="comment"># --- Cas m√©tier : Standardiser une colonne de sigles ---</span>
<span class="variable">df</span>[<span class="string">'code_pays'</span>] = <span class="variable">df</span>[<span class="string">'code_pays'</span>].<span class="variable">str</span>.<span class="function">upper</span>()`
        },
        {
            title: 'str.replace()',
            subtitle: 'Remplacer une sous-cha√Æne.',
            type: 'returns-value',
            explanation: {
                description: "Remplace les occurrences de la sous-cha√Æne <code>old</code> par <code>new</code>.",
                arguments: "<li><code>old</code> (obligatoire): La sous-cha√Æne √† remplacer.</li><li><code>new</code> (obligatoire): La cha√Æne de remplacement.</li><li><code>count</code> (optionnel): Nombre maximum de remplacements.</li>",
                returns: "Une <strong>nouvelle cha√Æne</strong> modifi√©e."
            },
            code: `<span class="comment"># --- Cas m√©tier : Nettoyer une colonne de prix ---</span>
<span class="variable">df</span>[<span class="string">'prix_float'</span>] = <span class="variable">df</span>[<span class="string">'prix_str'</span>].<span class="variable">str</span>.<span class="function">replace</span>(<span class="string">' ‚Ç¨'</span>, <span class="string">''</span>).<span class="variable">str</span>.<span class="function">replace</span>(<span class="string">','</span>, <span class="string">'.'</span>).<span class="function">astype</span>(<span class="variable">float</span>)`
        },
        {
            title: 'str.split()',
            subtitle: 'D√©couper la cha√Æne en une liste.',
            type: 'returns-value',
            explanation: {
                description: "D√©coupe une cha√Æne en une liste de sous-cha√Ænes.",
                arguments: "<li><code>sep</code> (optionnel): Le s√©parateur. Par d√©faut, tout espace blanc.</li><li><code>maxsplit</code> (optionnel): Nombre maximum de d√©coupes.</li>",
                returns: "Une <strong>nouvelle liste</strong> de cha√Ænes."
            },
            code: `<span class="comment"># --- Cas m√©tier : Cr√©er des colonnes √† partir d'une seule ---</span>
<span class="variable">df</span>[[<span class="string">'prenom'</span>, <span class="string">'nom'</span>]] = <span class="variable">df</span>[<span class="string">'nom_complet'</span>].<span class="variable">str</span>.<span class="function">split</span>(<span class="string">' '</span>, <span class="variable">n</span>=<span class="number">1</span>, <span class="variable">expand</span>=<span class="keyword">True</span>)`
        },
        {
            title: 'str.join()',
            subtitle: 'Assembler une liste en une cha√Æne.',
            type: 'returns-value',
            explanation: {
                description: "Assemble les √©l√©ments d'un it√©rable en une seule cha√Æne, en utilisant la cha√Æne initiale comme \"colle\".",
                arguments: "<li><code>iterable</code> (obligatoire): Un it√©rable (liste, tuple) dont tous les √©l√©ments sont des cha√Ænes.</li>",
                returns: "Une <strong>nouvelle cha√Æne</strong> concat√©n√©e."
            },
            code: `<span class="comment"># --- Cas m√©tier : Concat√©ner des colonnes de texte ---</span>
<span class="variable">df</span>[<span class="string">'adresse_complete'</span>] = <span class="variable">df</span>[[<span class="string">'numero'</span>, <span class="string">'rue'</span>, <span class="string">'ville'</span>]].<span class="function">astype</span>(<span class="variable">str</span>).<span class="function">agg</span>(<span class="string">', '</span>.<span class="function">join</span>, <span class="variable">axis</span>=<span class="number">1</span>)`
        },
        {
            title: 'str.startswith()',
            subtitle: 'V√©rifier si la cha√Æne commence par...',
            type: 'returns-value',
            explanation: {
                description: "V√©rifie si la cha√Æne commence par le <code>prefix</code> sp√©cifi√©.",
                arguments: "<li><code>prefix</code> (obligatoire): La sous-cha√Æne √† rechercher. Peut aussi √™tre un tuple de pr√©fixes.</li>",
                returns: "Un <strong>bool√©en</strong> (<code>True</code> ou <code>False</code>)."
            },
            code: `<span class="comment"># --- Cas m√©tier : Filtrer des lignes dans Pandas ---</span>
<span class="variable">df_clients_fr</span> = <span class="variable">df</span>[<span class="variable">df</span>[<span class="string">'id_client'</span>].<span class="variable">str</span>.<span class="function">startswith</span>(<span class="string">'FR-'</span>)]`
        },
        {
            title: 'str.endswith()',
            subtitle: 'V√©rifier si la cha√Æne se termine par...',
            type: 'returns-value',
            explanation: {
                description: "V√©rifie si la cha√Æne se termine par le <code>suffix</code> sp√©cifi√©.",
                arguments: "<li><code>suffix</code> (obligatoire): La sous-cha√Æne √† rechercher. Peut aussi √™tre un tuple de suffixes.</li>",
                returns: "Un <strong>bool√©en</strong> (<code>True</code> ou <code>False</code>)."
            },
            code: `<span class="comment"># --- Cas m√©tier : Filtrer des domaines d'email ---</span>
<span class="variable">df_pro</span> = <span class="variable">df</span>[<span class="variable">df</span>[<span class="string">'email'</span>].<span class="variable">str</span>.<span class="function">endswith</span>(<span class="string">'@entreprise.com'</span>)]`
        },
        {
            title: 'f-string (formatage)',
            subtitle: 'Ins√©rer des variables dans une cha√Æne.',
            type: 'returns-value',
            explanation: {
                description: "La m√©thode la plus moderne et lisible pour formater des cha√Ænes. On pr√©fixe la cha√Æne par <code>f</code> et on ins√®re les variables entre accolades <code>{}</code>.",
                arguments: "<p>Aucun argument direct, les variables sont captur√©es depuis leur contexte.</p>",
                returns: "Une <strong>nouvelle cha√Æne</strong> format√©e."
            },
            code: `<span class="comment"># --- Cas m√©tier : Cr√©er une colonne descriptive ---</span>
<span class="variable">df</span>[<span class="string">'description'</span>] = <span class="variable">df</span>.<span class="function">apply</span>(<span class="keyword">lambda</span> <span class="variable">row</span>: <span class="string">f"{row['produit']} co√ªte {row['prix']:.2f}‚Ç¨"</span>, <span class="variable">axis</span>=<span class="number">1</span>)`
        },
        {
            title: 'str.find()',
            subtitle: 'Trouver l\'index d\'une sous-cha√Æne.',
            type: 'returns-value',
            explanation: {
                description: "Retourne l'index de la premi√®re occurrence de <code>sub</code>. Retourne <code>-1</code> si non trouv√©e (contrairement √† <code>.index()</code> qui l√®ve une erreur).",
                arguments: "<li><code>sub</code> (obligatoire): La sous-cha√Æne √† rechercher.</li>",
                returns: "L'<strong>index</strong> (entier) de la sous-cha√Æne, ou <strong>-1</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : V√©rifier la pr√©sence d'un mot-cl√© ---</span>
<span class="variable">df</span>[<span class="string">'contient_promo'</span>] = <span class="variable">df</span>[<span class="string">'commentaire'</span>].<span class="variable">str</span>.<span class="function">find</span>(<span class="string">'promotion'</span>) != -<span class="number">1</span>`
        },
        {
            title: 'str.count()',
            subtitle: "Compter les occurrences d'une sous-cha√Æne.",
            type: 'returns-value',
            explanation: {
                description: "Compte le nombre d'occurrences non superpos√©es de la sous-cha√Æne <code>sub</code>.",
                arguments: "<li><code>sub</code> (obligatoire): La sous-cha√Æne √† compter.</li>",
                returns: "Un <strong>entier</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : V√©rifier la validit√© d'une donn√©e ---</span>
<span class="variable">email</span> = <span class="string">'test@test.com'</span>
<span class="keyword">if</span> <span class="variable">email</span>.<span class="function">count</span>(<span class="string">'@'</span>) == <span class="number">1</span>: <span class="function">print</span>(<span class="string">"Format d'email potentiellement valide"</span>)`
        },
        {
            title: 'str.isdigit()',
            subtitle: 'V√©rifier si la cha√Æne ne contient que des chiffres.',
            type: 'returns-value',
            explanation: {
                description: "V√©rifie si tous les caract√®res de la cha√Æne sont des chiffres (0-9).",
                arguments: "<p>Aucun.</p>",
                returns: "Un <strong>bool√©en</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : Filtrer les codes postaux valides ---</span>
<span class="variable">df_valide</span> = <span class="variable">df</span>[<span class="variable">df</span>[<span class="string">'code_postal'</span>].<span class="variable">str</span>.<span class="function">isdigit</span>()]`
        },
        {
            title: 'str.isnumeric()',
            subtitle: 'V√©rifier si la cha√Æne est num√©rique (Unicode).',
            type: 'returns-value',
            explanation: {
                description: "Similaire √† <code>isdigit()</code>, mais accepte une plus large gamme de caract√®res num√©riques Unicode (ex: puissances¬≤, fractions ¬æ).",
                arguments: "<p>Aucun.</p>",
                returns: "Un <strong>bool√©en</strong>."
            },
            code: `<span class="comment"># --- Exemples ---</span>
<span class="function">print</span>(<span class="string">'123'</span>.<span class="function">isnumeric</span>()) <span class="comment"># True</span>
<span class="function">print</span>(<span class="string">'¬≤'</span>.<span class="function">isnumeric</span>()) <span class="comment"># True, contrairement √† isdigit()</span>`
        },
        {
            title: 'str.isalnum()',
            subtitle: 'V√©rifier si la cha√Æne est alphanum√©rique.',
            type: 'returns-value',
            explanation: {
                description: "V√©rifie si tous les caract√®res sont alphanum√©riques (lettres OU chiffres). Les espaces et la ponctuation renvoient <code>False</code>.",
                arguments: "<p>Aucun.</p>",
                returns: "Un <strong>bool√©en</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : Valider un identifiant utilisateur ---</span>
<span class="variable">username</span> = <span class="string">"user2025"</span>
<span class="keyword">if</span> <span class="variable">username</span>.<span class="function">isalnum</span>(): <span class="function">print</span>(<span class="string">"Format d'identifiant valide."</span>)`
        },
        {
            title: 'str.isalpha()',
            subtitle: 'V√©rifier si la cha√Æne est alphab√©tique.',
            type: 'returns-value',
            explanation: {
                description: "V√©rifie si tous les caract√®res sont alphab√©tiques (lettres uniquement).",
                arguments: "<p>Aucun.</p>",
                returns: "Un <strong>bool√©en</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : Nettoyer des noms de personnes ---</span>
<span class="variable">df</span>[<span class="string">'nom_valide'</span>] = <span class="variable">df</span>[<span class="string">'nom'</span>].<span class="variable">str</span>.<span class="function">isalpha</span>()`
        },
        {
            title: 'str.isspace()',
            subtitle: "V√©rifier si la cha√Æne ne contient que des espaces.",
            type: 'returns-value',
            explanation: {
                description: "V√©rifie si la cha√Æne ne contient QUE des espaces blancs (espaces, tabulations, sauts de ligne) et n'est pas vide.",
                arguments: "<p>Aucun.</p>",
                returns: "Un <strong>bool√©en</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : Identifier les entr√©es vides ou manquantes ---</span>
<span class="comment"># df['commentaire_vide'] = df['commentaire'].str.isspace()</span>`
        },
        {
            title: 'str.removeprefix()',
            subtitle: 'Retirer un pr√©fixe (si pr√©sent).',
            type: 'returns-value',
            explanation: {
                description: "Retire le pr√©fixe de la cha√Æne, uniquement s'il est pr√©sent. Sinon, renvoie la cha√Æne inchang√©e.",
                arguments: "<li><code>prefix</code> (obligatoire): La sous-cha√Æne √† retirer au d√©but.</li>",
                returns: "Une <strong>nouvelle cha√Æne</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : Nettoyer des identifiants ---</span>
<span class="variable">df</span>[<span class="string">'id_numerique'</span>] = <span class="variable">df</span>[<span class="string">'id_complet'</span>].<span class="variable">str</span>.<span class="function">removeprefix</span>(<span class="string">'USER_'</span>)`
        },
        {
            title: 'str.removesuffix()',
            subtitle: 'Retirer un suffixe (si pr√©sent).',
            type: 'returns-value',
            explanation: {
                description: "Retire le suffixe de la cha√Æne, uniquement s'il est pr√©sent. Sinon, renvoie la cha√Æne inchang√©e.",
                arguments: "<li><code>suffix</code> (obligatoire): La sous-cha√Æne √† retirer √† la fin.</li>",
                returns: "Une <strong>nouvelle cha√Æne</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : Nettoyer des noms de fichiers ---</span>
<span class="variable">df</span>[<span class="string">'nom_base'</span>] = <span class="variable">df</span>[<span class="string">'nom_fichier'</span>].<span class="variable">str</span>.<span class="function">removesuffix</span>(<span class="string">'.csv'</span>)`
        },
        {
            title: 'str.capitalize()',
            subtitle: 'Mettre la 1√®re lettre en majuscule.',
            type: 'returns-value',
            explanation: {
                description: "Met le premier caract√®re de la cha√Æne en majuscule et tout le reste en minuscule.",
                arguments: "<p>Aucun.</p>",
                returns: "Une <strong>nouvelle cha√Æne</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : Formater des d√©buts de phrases ---</span>
<span class="variable">df</span>[<span class="string">'commentaire_formate'</span>] = <span class="variable">df</span>[<span class="string">'commentaire'</span>].<span class="variable">str</span>.<span class="function">capitalize</span>()`
        },
        {
            title: 'str.title()',
            subtitle: 'Mettre chaque mot en majuscule.',
            type: 'returns-value',
            explanation: {
                description: "Met la premi√®re lettre de chaque mot en majuscule et le reste en minuscule.",
                arguments: "<p>Aucun.</p>",
                returns: "Une <strong>nouvelle cha√Æne</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : Formater des noms propres ---</span>
<span class="variable">df</span>[<span class="string">'nom_complet_formate'</span>] = <span class="variable">df</span>[<span class="string">'nom_complet'</span>].<span class="variable">str</span>.<span class="function">title</span>()`
        },
        {
            title: 'str.zfill()',
            subtitle: 'Rembourrer √† gauche avec des z√©ros.',
            type: 'returns-value',
            explanation: {
                description: "Rembourre la cha√Æne √† gauche avec des z√©ros ('0') pour atteindre une longueur totale de <code>width</code>.",
                arguments: "<li><code>width</code> (obligatoire): La longueur totale souhait√©e de la cha√Æne.</li>",
                returns: "Une <strong>nouvelle cha√Æne</strong>."
            },
            code: `<span class="comment"># --- Cas m√©tier : Standardiser des num√©ros de s√©rie ---</span>
<span class="variable">df</span>[<span class="string">'numero_serie_std'</span>] = <span class="variable">df</span>[<span class="string">'numero_serie'</span>].<span class="function">astype</span>(<span class="variable">str</span>).<span class="variable">str</span>.<span class="function">zfill</span>(<span class="number">8</span>)`
        },
        {
            title: 'str.partition()',
            subtitle: 'D√©couper en 3 parties (avant, sep, apr√®s).',
            type: 'returns-value',
            explanation: {
                description: "D√©coupe la cha√Æne √† la premi√®re occurrence de <code>sep</code>. Renvoie toujours un tuple de 3 √©l√©ments, m√™me si le s√©parateur n'est pas trouv√©.",
                arguments: "<li><code>sep</code> (obligatoire): Le s√©parateur √† utiliser.</li>",
                returns: "Un <strong>nouveau tuple</strong> de 3 √©l√©ments: (partie avant sep, sep, partie apr√®s sep)."
            },
            code: `<span class="comment"># --- Cas m√©tier : Extraire le nom d'utilisateur et le domaine ---</span>
<span class="variable">df</span>[[<span class="string">'user'</span>, <span class="string">'sep'</span>, <span class="string">'domain'</span>]] = <span class="variable">df</span>[<span class="string">'email'</span>].<span class="variable">str</span>.<span class="function">partition</span>(<span class="string">'@'</span>)`
        },
        {
            title: 'str.index()',
            subtitle: "Trouver l'index (l√®ve une erreur si absent).",
            type: 'returns-value',
            explanation: {
                description: "Similaire √† <code>.find()</code>, mais l√®ve une exception <code>ValueError</code> si la sous-cha√Æne n'est pas trouv√©e. Utile quand on est certain de la pr√©sence de la sous-cha√Æne.",
                arguments: "<li><code>sub</code> (obligatoire): La sous-cha√Æne √† rechercher.</li>",
                returns: "L'<strong>index</strong> (entier) de la sous-cha√Æne."
            },
            code: `<span class="keyword">try</span>:
    <span class="variable">position</span> = <span class="string">'hello'</span>.<span class="function">index</span>(<span class="string">'e'</span>) <span class="comment"># 1</span>
<span class="keyword">except</span> <span class="variable">ValueError</span>:
    <span class="function">print</span>(<span class="string">"Non trouv√©"</span>)`
        },
        {
            title: 'str.splitlines()',
            subtitle: 'D√©couper la cha√Æne en une liste de lignes.',
            type: 'returns-value',
            explanation: {
                description: "D√©coupe une cha√Æne en une liste de lignes, en se basant sur les sauts de ligne (<code>\\n</code>, <code>\\r\\n</code>, etc.).",
                arguments: "<p>Aucun.</p>",
                returns: "Une <strong>nouvelle liste</strong> de cha√Ænes (lignes)."
            },
            code: `<span class="comment"># --- Cas m√©tier : Traiter un fichier texte multiligne ---</span>
<span class="variable">raw_data</span> = <span class="string">"id:1\\nnom:Alice\\nid:2\\nnom:Bob"</span>
<span class="variable">lignes</span> = <span class="variable">raw_data</span>.<span class="function">splitlines</span>()
<span class="function">print</span>(<span class="variable">lignes</span>) <span class="comment"># ['id:1', 'nom:Alice', 'id:2', 'nom:Bob']</span>`
        },
        {
            title: 'str.center()',
            subtitle: 'Centrer la cha√Æne dans un espace.',
            type: 'returns-value',
            explanation: {
                description: "Centre la cha√Æne dans un espace de largeur <code>width</code>, en remplissant avec le caract√®re <code>fillchar</code>.",
                arguments: "<li><code>width</code> (obligatoire): La longueur totale.</li><li><code>fillchar</code> (optionnel): Caract√®re de remplissage (espace par d√©faut).</li>",
                returns: "Une <strong>nouvelle cha√Æne</strong>."
            },
            code: `<span class="comment"># --- Cr√©er un titre format√© ---</span>
<span class="function">print</span>(<span class="string">"Rapport des Ventes"</span>.<span class="function">center</span>(<span class="number">40</span>, <span class="string">'='</span>))
<span class="comment"># '=========Rapport des Ventes========='</span>`
        },
    ];
    
    // --- BASE DE DONN√âES POUR LES LISTES ---
const listMethods = [
    {
        title: 'list.append(x)',
        subtitle: 'Ajouter un √©l√©ment √† la fin.',
        type: 'modifies-inplace',
        explanation: {
            description: "Ajoute un seul √©l√©ment √† la fin de la liste. C'est l'une des op√©rations les plus courantes.",
            arguments: "<li><code>x</code> (obligatoire): L'√©l√©ment √† ajouter.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>). Modifie la liste directement.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Collecter des r√©sultats dans une boucle ---</span>
<span class="variable">ids_valides</span> = [<span class="number">101</span>, <span class="number">102</span>]
<span class="variable">nouvel_id</span> = <span class="number">103</span>
<span class="variable">ids_valides</span>.<span class="function">append</span>(<span class="variable">nouvel_id</span>)
<span class="function">print</span>(<span class="variable">ids_valides</span>) <span class="comment"># [101, 102, 103]</span>`
    },
    {
        title: 'list.extend(iterable)',
        subtitle: 'Ajouter tous les √©l√©ments d\'un it√©rable.',
        type: 'modifies-inplace',
        explanation: {
            description: "Fusionne une liste avec un autre it√©rable (liste, tuple, etc.) en ajoutant tous ses √©l√©ments √† la fin.",
            arguments: "<li><code>iterable</code> (obligatoire): L'it√©rable dont les √©l√©ments seront ajout√©s.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>). Modifie la liste directement.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Combiner deux listes de donn√©es ---</span>
<span class="variable">ventes_T1</span> = [<span class="number">150</span>, <span class="number">200</span>]
<span class="variable">ventes_T2</span> = [<span class="number">180</span>, <span class="number">210</span>]
<span class="variable">ventes_T1</span>.<span class="function">extend</span>(<span class="variable">ventes_T2</span>)
<span class="function">print</span>(<span class="variable">ventes_T1</span>) <span class="comment"># [150, 200, 180, 210]</span>`
    },
    {
        title: 'list.insert(i, x)',
        subtitle: 'Ins√©rer un √©l√©ment √† une position donn√©e.',
        type: 'modifies-inplace',
        explanation: {
            description: "Ins√®re un √©l√©ment <code>x</code> √† l'index <code>i</code>. Tous les √©l√©ments suivants sont d√©cal√©s.",
            arguments: "<li><code>i</code> (obligatoire): L'index o√π ins√©rer l'√©l√©ment.</li><li><code>x</code> (obligatoire): L'√©l√©ment √† ins√©rer.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>). Modifie la liste directement.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Ajouter une √©tape prioritaire dans un pipeline ---</span>
<span class="variable">pipeline</span> = [<span class="string">'load_data'</span>, <span class="string">'process_data'</span>]
<span class="variable">pipeline</span>.<span class="function">insert</span>(<span class="number">1</span>, <span class="string">'clean_data'</span>)
<span class="function">print</span>(<span class="variable">pipeline</span>) <span class="comment"># ['load_data', 'clean_data', 'process_data']</span>`
    },
    {
        title: 'list.remove(x)',
        subtitle: 'Retirer la premi√®re occurrence d\'un √©l√©ment.',
        type: 'modifies-inplace',
        explanation: {
            description: "Retire le premier √©l√©ment de la liste dont la valeur est √©gale √† <code>x</code>. L√®ve une <code>ValueError</code> si l'√©l√©ment n'est pas trouv√©.",
            arguments: "<li><code>x</code> (obligatoire): L'√©l√©ment √† retirer.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>). Modifie la liste directement.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Retirer une colonne √† ne pas traiter ---</span>
<span class="variable">colonnes</span> = [<span class="string">'id'</span>, <span class="string">'nom'</span>, <span class="string">'id_temp'</span>, <span class="string">'age'</span>]
<span class="variable">colonnes</span>.<span class="function">remove</span>(<span class="string">'id_temp'</span>)
<span class="function">print</span>(<span class="variable">colonnes</span>) <span class="comment"># ['id', 'nom', 'age']</span>`
    },
    {
        title: 'list.pop([i])',
        subtitle: 'Retirer et renvoyer un √©l√©ment par son index.',
        type: 'modifies-inplace',
        explanation: {
            description: "Retire l'√©l√©ment √† la position <code>i</code> et le renvoie. Si l'index est omis, retire et renvoie le dernier √©l√©ment (comportement de pile LIFO).",
            arguments: "<li><code>i</code> (optionnel): L'index de l'√©l√©ment √† retirer. Par d√©faut, -1 (le dernier).</li>",
            returns: "L'√©l√©ment qui a √©t√© retir√©."
        },
        code: `<span class="comment"># --- Cas m√©tier : Traiter et retirer la derni√®re t√¢che d'une file ---</span>
<span class="variable">taches</span> = [<span class="string">'calcul_A'</span>, <span class="string">'calcul_B'</span>, <span class="string">'calcul_C'</span>]
<span class="variable">derniere_tache</span> = <span class="variable">taches</span>.<span class="function">pop</span>()
<span class="function">print</span>(<span class="string">f"T√¢che trait√©e: {derniere_tache}"</span>) <span class="comment"># 'calcul_C'</span>
<span class="function">print</span>(<span class="string">f"T√¢ches restantes: {taches}"</span>) <span class="comment"># ['calcul_A', 'calcul_B']</span>`
    },
    {
        title: 'list.sort()',
        subtitle: 'Trier la liste sur place.',
        type: 'modifies-inplace',
        explanation: {
            description: "Trie les √©l√©ments de la liste, en place. Pour un tri sans modifier l'original, utiliser la fonction <code>sorted()</code>.",
            arguments: "<li><code>key</code> (optionnel): Une fonction pour sp√©cifier la cl√© de tri.</li><li><code>reverse</code> (optionnel): <code>True</code> pour un tri d√©croissant.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>). Modifie la liste directement.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Ordonner une liste de scores ---</span>
<span class="variable">scores</span> = [<span class="number">88</span>, <span class="number">92</span>, <span class="number">71</span>, <span class="number">92</span>]
<span class="variable">scores</span>.<span class="function">sort</span>(<span class="variable">reverse</span>=<span class="keyword">True</span>)
<span class="function">print</span>(<span class="variable">scores</span>) <span class="comment"># [92, 92, 88, 71]</span>`
    },
    {
        title: 'list.reverse()',
        subtitle: 'Inverser l\'ordre des √©l√©ments sur place.',
        type: 'modifies-inplace',
        explanation: {
            description: "Inverse l'ordre des √©l√©ments de la liste, en place.",
            arguments: "<p>Aucun.</p>",
            returns: "<p>Ne retourne rien (<code>None</code>). Modifie la liste directement.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Inverser un ordre chronologique ---</span>
<span class="variable">evenements</span> = [<span class="string">'2023-01-01'</span>, <span class="string">'2023-01-02'</span>, <span class="string">'2023-01-03'</span>]
<span class="variable">evenements</span>.<span class="function">reverse</span>()
<span class="function">print</span>(<span class="variable">evenements</span>) <span class="comment"># ['2023-01-03', '2023-01-02', '2023-01-01']</span>`
    },
    {
        title: 'list.copy()',
        subtitle: 'Cr√©er une copie superficielle (shallow copy).',
        type: 'returns-value',
        explanation: {
            description: "Retourne une copie superficielle de la liste. C'est √©quivalent √† <code>ma_liste[:]</code>. Utile pour modifier une copie sans affecter l'original.",
            arguments: "<p>Aucun.</p>",
            returns: "Une <strong>nouvelle liste</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Sauvegarder l'√©tat original d'une liste avant modification ---</span>
<span class="variable">parametres_originaux</span> = [<span class="string">'A'</span>, <span class="string">'B'</span>]
<span class="variable">parametres_test</span> = <span class="variable">parametres_originaux</span>.<span class="function">copy</span>()
<span class="variable">parametres_test</span>.<span class="function">append</span>(<span class="string">'C'</span>)
<span class="function">print</span>(<span class="variable">parametres_originaux</span>) <span class="comment"># ['A', 'B'] (inchang√©)</span>
<span class="function">print</span>(<span class="variable">parametres_test</span>) <span class="comment"># ['A', 'B', 'C']</span>`
    },
    {
        title: 'list.index(x[, start[, end]])',
        subtitle: 'Trouver l\'index de la premi√®re occurrence.',
        type: 'returns-value',
        explanation: {
            description: "Retourne l'index de base z√©ro de la premi√®re occurrence de <code>x</code>. L√®ve une <code>ValueError</code> si l'√©l√©ment n'est pas trouv√©.",
            arguments: "<li><code>x</code> (obligatoire): L'√©l√©ment √† chercher.</li><li><code>start</code>, <code>end</code> (optionnels): Pour chercher dans une sous-section de la liste.</li>",
            returns: "L'<strong>index</strong> (entier) de l'√©l√©ment."
        },
        code: `<span class="comment"># --- Cas m√©tier : Trouver la position d'une colonne cl√© ---</span>
<span class="variable">colonnes</span> = [<span class="string">'date'</span>, <span class="string">'produit'</span>, <span class="string">'ventes'</span>, <span class="string">'region'</span>]
<span class="variable">index_ventes</span> = <span class="variable">colonnes</span>.<span class="function">index</span>(<span class="string">'ventes'</span>)
<span class="function">print</span>(<span class="variable">index_ventes</span>) <span class="comment"># 2</span>`
    },
    {
        title: 'list.count(x)',
        subtitle: 'Compter les occurrences d\'un √©l√©ment.',
        type: 'returns-value',
        explanation: {
            description: "Retourne le nombre de fois que <code>x</code> appara√Æt dans la liste.",
            arguments: "<li><code>x</code> (obligatoire): L'√©l√©ment √† compter.</li>",
            returns: "Un <strong>entier</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Compter le nombre de votes pour une option ---</span>
<span class="variable">votes</span> = [<span class="string">'oui'</span>, <span class="string">'non'</span>, <span class="string">'oui'</span>, <span class="string">'oui'</span>, <span class="string">'blanc'</span>]
<span class="variable">nombre_oui</span> = <span class="variable">votes</span>.<span class="function">count</span>(<span class="string">'oui'</span>)
<span class="function">print</span>(<span class="variable">nombre_oui</span>) <span class="comment"># 3</span>`
    },
    {
        title: 'list.clear()',
        subtitle: 'Vider la liste de tous ses √©l√©ments.',
        type: 'modifies-inplace',
        explanation: {
            description: "Retire tous les √©l√©ments de la liste, la laissant vide. C'est √©quivalent √† <code>del ma_liste[:]</code>.",
            arguments: "<p>Aucun.</p>",
            returns: "<p>Ne retourne rien (<code>None</code>). Modifie la liste directement.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : R√©initialiser une liste de logs pour un nouveau batch ---</span>
<span class="variable">logs_batch</span> = [<span class="string">'log1'</span>, <span class="string">'log2'</span>]
<span class="comment"># ... traitement du batch ...</span>
<span class="variable">logs_batch</span>.<span class="function">clear</span>()
<span class="function">print</span>(<span class="variable">logs_batch</span>) <span class="comment"># []</span>`
    },
    {
        title: 'List Slicing [:]',
        subtitle: 'Extraire une sous-partie de la liste.',
        type: 'returns-value',
        explanation: {
            description: "Permet d'extraire une partie de la liste en sp√©cifiant <code>[start:stop:step]</code>. C'est une technique extr√™mement puissante et flexible.",
            arguments: "<li><code>start</code> (inclus), <code>stop</code> (exclu), <code>step</code> (pas).</li>",
            returns: "Une <strong>nouvelle liste</strong> contenant les √©l√©ments extraits."
        },
        code: `<span class="comment"># --- Cas m√©tier : Obtenir les 5 premiers/derniers clients ---</span>
<span class="variable">clients</span> = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>]
<span class="variable">top_5</span> = <span class="variable">clients</span>[:<span class="number">5</span>]
<span class="variable">last_3</span> = <span class="variable">clients</span>[-<span class="number">3</span>:]
<span class="function">print</span>(<span class="variable">top_5</span>) <span class="comment"># ['A', 'B', 'C', 'D', 'E']</span>
<span class="function">print</span>(<span class="variable">last_3</span>) <span class="comment"># ['D', 'E', 'F']</span>`
    },
    {
        title: 'len(list)',
        subtitle: 'Obtenir le nombre d\'√©l√©ments.',
        type: 'returns-value',
        explanation: {
            description: "Fonction int√©gr√©e (pas une m√©thode) qui retourne le nombre d'√©l√©ments dans une liste.",
            arguments: "<li><code>list</code> (obligatoire): La liste √† mesurer.</li>",
            returns: "Un <strong>entier</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : V√©rifier si un DataFrame import√© contient des donn√©es ---</span>
<span class="variable">lignes_csv</span> = [[<span class="string">'a'</span>,<span class="number">1</span>], [<span class="string">'b'</span>,<span class="number">2</span>]]
<span class="keyword">if</span> <span class="function">len</span>(<span class="variable">lignes_csv</span>) > <span class="number">0</span>:
    <span class="function">print</span>(<span class="string">f"Fichier contient {len(lignes_csv)} lignes."</span>) <span class="comment"># Affiche: Fichier contient 2 lignes.</span>`
    },
    {
        title: 'sorted(iterable)',
        subtitle: 'Cr√©er une nouvelle liste tri√©e.',
        type: 'returns-value',
        explanation: {
            description: "Fonction int√©gr√©e qui retourne une <strong>nouvelle</strong> liste tri√©e √† partir des √©l√©ments d'un it√©rable, sans modifier l'original. C'est l'alternative √† <code>.sort()</code>.",
            arguments: "<li><code>iterable</code> (obligatoire): L'it√©rable √† trier.</li><li><code>key</code>, <code>reverse</code> (optionnels): Comme pour <code>.sort()</code>.</li>",
            returns: "Une <strong>nouvelle liste</strong> tri√©e."
        },
        code: `<span class="comment"># --- Cas m√©tier : Afficher un classement sans alt√©rer les donn√©es brutes ---</span>
<span class="variable">scores_bruts</span> = [<span class="number">88</span>, <span class="number">92</span>, <span class="number">71</span>]
<span class="variable">classement</span> = <span class="function">sorted</span>(<span class="variable">scores_bruts</span>, <span class="variable">reverse</span>=<span class="keyword">True</span>)
<span class="function">print</span>(<span class="variable">scores_bruts</span>) <span class="comment"># [88, 92, 71] (inchang√©)</span>
<span class="function">print</span>(<span class="variable">classement</span>) <span class="comment"># [92, 88, 71]</span>`
    },
    {
        title: 'List Comprehension',
        subtitle: 'Cr√©er une liste de mani√®re concise.',
        type: 'returns-value',
        explanation: {
            description: "Une syntaxe √©l√©gante et efficace pour cr√©er une nouvelle liste en appliquant une expression √† chaque √©l√©ment d'un it√©rable, avec une condition optionnelle.",
            arguments: "<p>Syntaxe : <code>[expression for item in iterable if condition]</code>.</p>",
            returns: "Une <strong>nouvelle liste</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Extraire les prix d'une liste de produits et appliquer une TVA ---</span>
<span class="variable">produits</span> = [{<span class="string">'nom'</span>:<span class="string">'A'</span>, <span class="string">'prix'</span>:<span class="number">100</span>}, {<span class="string">'nom'</span>:<span class="string">'B'</span>, <span class="string">'prix'</span>:<span class="number">150</span>}]
<span class="variable">prix_ttc</span> = [<span class="variable">p</span>[<span class="string">'prix'</span>] * <span class="number">1.2</span> <span class="keyword">for</span> <span class="variable">p</span> <span class="keyword">in</span> <span class="variable">produits</span>]
<span class="function">print</span>(<span class="variable">prix_ttc</span>) <span class="comment"># [120.0, 180.0]</span>`
    },
    {
        title: 'sum(iterable)',
        subtitle: 'Sommer les √©l√©ments (num√©riques).',
        type: 'returns-value',
        explanation: {
            description: "Fonction int√©gr√©e qui additionne les √©l√©ments d'un it√©rable (doivent √™tre des nombres).",
            arguments: "<li><code>iterable</code> (obligatoire): L'it√©rable √† sommer.</li>",
            returns: "La <strong>somme</strong> (nombre)."
        },
        code: `<span class="comment"># --- Cas m√©tier : Calculer le total des ventes ---</span>
<span class="variable">ventes_journalieres</span> = [<span class="number">1500</span>, <span class="number">2100</span>, <span class="number">1850</span>]
<span class="variable">total</span> = <span class="function">sum</span>(<span class="variable">ventes_journalieres</span>)
<span class="function">print</span>(<span class="variable">total</span>) <span class="comment"># 5450</span>`
    },
    {
        title: 'min() / max()',
        subtitle: 'Trouver le minimum / maximum.',
        type: 'returns-value',
        explanation: {
            description: "Fonctions int√©gr√©es qui retournent le plus petit ou le plus grand √©l√©ment d'un it√©rable.",
            arguments: "<li><code>iterable</code> (obligatoire): L'it√©rable √† analyser.</li>",
            returns: "L'√©l√©ment <strong>minimum</strong> ou <strong>maximum</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Identifier les performances extr√™mes ---</span>
<span class="variable">scores</span> = [<span class="number">88</span>, <span class="number">92</span>, <span class="number">71</span>, <span class="number">95</span>]
<span class="function">print</span>(<span class="string">f"Score min: {min(scores)}, Score max: {max(scores)}"</span>) <span class="comment"># Min: 71, Max: 95</span>`
    },
    {
        title: 'enumerate(iterable)',
        subtitle: 'Obtenir l\'index et la valeur en bouclant.',
        type: 'returns-value',
        explanation: {
            description: "Fonction int√©gr√©e qui retourne un objet √©num√©r√©. Tr√®s utile dans les boucles <code>for</code> pour avoir acc√®s √† la fois √† l'index et √† l'√©l√©ment.",
            arguments: "<li><code>iterable</code> (obligatoire): L'it√©rable √† parcourir.</li>",
            returns: "Un <strong>it√©rateur</strong> de paires (index, valeur)."
        },
        code: `<span class="comment"># --- Cas m√©tier : Traiter des colonnes et afficher leur position ---</span>
<span class="variable">colonnes</span> = [<span class="string">'date'</span>, <span class="string">'ventes'</span>, <span class="string">'region'</span>]
<span class="keyword">for</span> <span class="variable">index</span>, <span class="variable">col</span> <span class="keyword">in</span> <span class="function">enumerate</span>(<span class="variable">colonnes</span>):
    <span class="function">print</span>(<span class="string">f"Traitement de la colonne {index}: {col}"</span>)`
    },
];

// --- BASE DE DONN√âES POUR LES DICTIONNAIRES ---
const dictionaryMethods = [
    {
        title: 'dict.get(key, default)',
        subtitle: 'Acc√©der √† une valeur sans erreur.',
        type: 'returns-value',
        explanation: {
            description: "Retourne la valeur pour <code>key</code> si elle existe. Sinon, retourne <code>default</code> (<code>None</code> par d√©faut) au lieu de lever une <code>KeyError</code>. C'est la mani√®re la plus s√ªre d'acc√©der aux donn√©es d'un dictionnaire.",
            arguments: "<li><code>key</code> (obligatoire): La cl√© √† rechercher.</li><li><code>default</code> (optionnel): La valeur √† retourner si la cl√© est absente.</li>",
            returns: "La valeur associ√©e √† la cl√©, ou la valeur par d√©faut."
        },
        code: `<span class="comment"># --- Cas m√©tier : G√©rer des champs optionnels dans des donn√©es JSON ---</span>
<span class="variable">data_point</span> = {<span class="string">'id'</span>: <span class="number">1</span>, <span class="string">'valeur'</span>: <span class="number">100</span>}
<span class="comment"># Si 'nom' n'existe pas, on obtient 'non sp√©cifi√©' au lieu d'une erreur</span>
<span class="variable">nom</span> = <span class="variable">data_point</span>.<span class="function">get</span>(<span class="string">'nom'</span>, <span class="string">'non sp√©cifi√©'</span>)
<span class="function">print</span>(<span class="variable">nom</span>) <span class="comment"># 'non sp√©cifi√©'</span>`
    },
    {
        title: 'dict.keys()',
        subtitle: 'Obtenir toutes les cl√©s.',
        type: 'returns-value',
        explanation: {
            description: "Retourne un objet 'vue' affichant une liste de toutes les cl√©s du dictionnaire. Cet objet est dynamique : si le dictionnaire change, la vue refl√®te ce changement.",
            arguments: "<p>Aucun.</p>",
            returns: "Un objet vue des <strong>cl√©s</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Valider la pr√©sence des colonnes attendues ---</span>
<span class="variable">data_row</span> = {<span class="string">'produit_id'</span>: <span class="number">123</span>, <span class="string">'prix'</span>: <span class="number">49.99</span>, <span class="string">'stock'</span>: <span class="number">200</span>}
<span class="variable">colonnes</span> = <span class="function">list</span>(<span class="variable">data_row</span>.<span class="function">keys</span>())
<span class="function">print</span>(<span class="variable">colonnes</span>) <span class="comment"># ['produit_id', 'prix', 'stock']</span>`
    },
    {
        title: 'dict.values()',
        subtitle: 'Obtenir toutes les valeurs.',
        type: 'returns-value',
        explanation: {
            description: "Retourne un objet 'vue' de toutes les valeurs du dictionnaire.",
            arguments: "<p>Aucun.</p>",
            returns: "Un objet vue des <strong>valeurs</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Calculer la moyenne des scores d'un √©tudiant ---</span>
<span class="variable">scores</span> = {<span class="string">'maths'</span>: <span class="number">92</span>, <span class="string">'anglais'</span>: <span class="number">88</span>, <span class="string">'histoire'</span>: <span class="number">95</span>}
<span class="variable">liste_scores</span> = <span class="function">list</span>(<span class="variable">scores</span>.<span class="function">values</span>())
<span class="variable">moyenne</span> = <span class="function">sum</span>(<span class="variable">liste_scores</span>) / <span class="function">len</span>(<span class="variable">liste_scores</span>)
<span class="function">print</span>(<span class="variable">moyenne</span>) <span class="comment"># 91.66...</span>`
    },
    {
        title: 'dict.items()',
        subtitle: 'Obtenir toutes les paires cl√©-valeur.',
        type: 'returns-value',
        explanation: {
            description: "Retourne un objet 'vue' des paires (cl√©, valeur) sous forme de tuples. C'est la m√©thode la plus efficace pour boucler sur les cl√©s et les valeurs en m√™me temps.",
            arguments: "<p>Aucun.</p>",
            returns: "Un objet vue des <strong>paires (cl√©, valeur)</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Convertir un dictionnaire en DataFrame Pandas ---</span>
<span class="variable">metriques</span> = {<span class="string">'visites'</span>: <span class="number">1500</span>, <span class="string">'clics'</span>: <span class="number">320</span>, <span class="string">'conversions'</span>: <span class="number">45</span>}
<span class="keyword">for</span> <span class="variable">metrique</span>, <span class="variable">valeur</span> <span class="keyword">in</span> <span class="variable">metriques</span>.<span class="function">items</span>():
    <span class="function">print</span>(<span class="string">f"{metrique.capitalize()}: {valeur}"</span>)`
    },
    {
        title: 'dict.update(other)',
        subtitle: 'Fusionner avec un autre dictionnaire.',
        type: 'modifies-inplace',
        explanation: {
            description: "Met √† jour le dictionnaire avec les paires cl√©-valeur de <code>other</code>. Les cl√©s existantes sont √©cras√©es.",
            arguments: "<li><code>other</code> (obligatoire): Un autre dictionnaire ou un it√©rable de paires cl√©-valeur.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>). Modifie le dictionnaire directement.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Combiner des informations client de deux sources ---</span>
<span class="variable">client_info</span> = {<span class="string">'id'</span>: <span class="number">101</span>, <span class="string">'nom'</span>: <span class="string">'Alice'</span>}
<span class="variable">client_contact</span> = {<span class="string">'email'</span>: <span class="string">'alice@email.com'</span>, <span class="string">'nom'</span>: <span class="string">'Alice B.'</span>}
<span class="variable">client_info</span>.<span class="function">update</span>(<span class="variable">client_contact</span>)
<span class="function">print</span>(<span class="variable">client_info</span>)
<span class="comment"># {'id': 101, 'nom': 'Alice B.', 'email': 'alice@email.com'}</span>`
    },
    {
        title: 'dict.pop(key, default)',
        subtitle: 'Retirer une cl√© et renvoyer sa valeur.',
        type: 'modifies-inplace',
        explanation: {
            description: "Retire la cl√© <code>key</code> et retourne sa valeur. Si la cl√© n'est pas trouv√©e, <code>default</code> est retourn√©. Si <code>default</code> n'est pas fourni et la cl√© est absente, une <code>KeyError</code> est lev√©e.",
            arguments: "<li><code>key</code> (obligatoire): La cl√© √† retirer.</li><li><code>default</code> (optionnel): Valeur √† retourner si la cl√© est absente.</li>",
            returns: "La valeur de la cl√© retir√©e."
        },
        code: `<span class="comment"># --- Cas m√©tier : Extraire et traiter une information sp√©cifique ---</span>
<span class="variable">config</span> = {<span class="string">'user'</span>: <span class="string">'admin'</span>, <span class="string">'mode'</span>: <span class="string">'debug'</span>, <span class="string">'version'</span>: <span class="number">2</span>}
<span class="variable">mode</span> = <span class="variable">config</span>.<span class="function">pop</span>(<span class="string">'mode'</span>)
<span class="function">print</span>(<span class="string">f"Mode activ√©: {mode}"</span>) <span class="comment"># 'debug'</span>
<span class="function">print</span>(<span class="variable">config</span>) <span class="comment"># {'user': 'admin', 'version': 2}</span>`
    },
    {
        title: 'dict.popitem()',
        subtitle: 'Retirer et renvoyer la derni√®re paire (cl√©, valeur).',
        type: 'modifies-inplace',
        explanation: {
            description: "Retire et retourne la derni√®re paire (cl√©, valeur) ins√©r√©e dans le dictionnaire (comportement LIFO - Last-In, First-Out). L√®ve une <code>KeyError</code> si le dictionnaire est vide.",
            arguments: "<p>Aucun.</p>",
            returns: "La paire <strong>(cl√©, valeur)</strong> retir√©e."
        },
        code: `<span class="comment"># --- Cas m√©tier : Traiter des t√¢ches dans l'ordre inverse de leur ajout ---</span>
<span class="variable">taches</span> = {<span class="string">'t1'</span>: <span class="string">'charger'</span>, <span class="string">'t2'</span>: <span class="string">'nettoyer'</span>, <span class="string">'t3'</span>: <span class="string">'analyser'</span>}
<span class="variable">derniere_tache</span> = <span class="variable">taches</span>.<span class="function">popitem</span>()
<span class="function">print</span>(<span class="string">f"T√¢che trait√©e: {derniere_tache}"</span>) <span class="comment"># ('t3', 'analyser')</span>`
    },
    {
        title: 'dict.setdefault(key, default)',
        subtitle: 'Obtenir une cl√©, l\'ins√©rer si absente.',
        type: 'modifies-inplace',
        explanation: {
            description: "Si <code>key</code> est dans le dictionnaire, retourne sa valeur. Sinon, ins√®re <code>key</code> avec la valeur <code>default</code> et retourne <code>default</code>. Tr√®s utile pour initialiser des cl√©s.",
            arguments: "<li><code>key</code> (obligatoire): La cl√© √† chercher/ins√©rer.</li><li><code>default</code> (optionnel): La valeur √† ins√©rer si la cl√© est absente (d√©faut: <code>None</code>).</li>",
            returns: "La valeur de la cl√© (existante ou nouvellement ins√©r√©e)."
        },
        code: `<span class="comment"># --- Cas m√©tier : Regrouper des donn√©es par cat√©gorie ---</span>
<span class="variable">ventes_par_cat</span> = {}
<span class="variable">ventes</span> = [(<span class="string">'livre'</span>, <span class="number">50</span>), (<span class="string">'jeu'</span>, <span class="number">100</span>), (<span class="string">'livre'</span>, <span class="number">30</span>)]
<span class="keyword">for</span> <span class="variable">cat</span>, <span class="variable">montant</span> <span class="keyword">in</span> <span class="variable">ventes</span>:
    <span class="variable">ventes_par_cat</span>.<span class="function">setdefault</span>(<span class="variable">cat</span>, []).<span class="function">append</span>(<span class="variable">montant</span>)
<span class="function">print</span>(<span class="variable">ventes_par_cat</span>) <span class="comment"># {'livre': [50, 30], 'jeu': [100]}</span>`
    },
    {
        title: "'key' in dict",
        subtitle: 'V√©rifier la pr√©sence d\'une cl√©.',
        type: 'returns-value',
        explanation: {
            description: "L'op√©rateur <code>in</code> est la mani√®re la plus idiomatique et la plus rapide de v√©rifier si une cl√© existe dans un dictionnaire.",
            arguments: "<p>Aucun.</p>",
            returns: "Un <strong>bool√©en</strong> (<code>True</code> ou <code>False</code>)."
        },
        code: `<span class="comment"># --- Cas m√©tier : Appliquer une logique conditionnelle ---</span>
<span class="variable">params</span> = {<span class="string">'learning_rate'</span>: <span class="number">0.01</span>, <span class="string">'epochs'</span>: <span class="number">100</span>}
<span class="keyword">if</span> <span class="string">'learning_rate'</span> <span class="keyword">in</span> <span class="variable">params</span>:
    <span class="function">print</span>(<span class="string">"Le taux d'apprentissage est d√©fini."</span>)`
    },
    {
        title: 'del dict[key]',
        subtitle: 'Supprimer une paire cl√©-valeur.',
        type: 'modifies-inplace',
        explanation: {
            description: "Le mot-cl√© <code>del</code> supprime une cl√© (et sa valeur) d'un dictionnaire. L√®ve une <code>KeyError</code> si la cl√© n'existe pas.",
            arguments: "<li><code>key</code> (obligatoire): La cl√© √† supprimer.</li>",
            returns: "<p>Ne retourne rien.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Nettoyer des donn√©es en retirant des champs inutiles ---</span>
<span class="variable">record</span> = {<span class="string">'id'</span>: <span class="number">1</span>, <span class="string">'nom'</span>: <span class="string">'test'</span>, <span class="string">'_temp_id'</span>: <span class="string">'xyz'</span>}
<span class="keyword">if</span> <span class="string">'_temp_id'</span> <span class="keyword">in</span> <span class="variable">record</span>:
    <span class="keyword">del</span> <span class="variable">record</span>[<span class="string">'_temp_id'</span>]
<span class="function">print</span>(<span class="variable">record</span>) <span class="comment"># {'id': 1, 'nom': 'test'}</span>`
    },
    {
        title: 'Dictionary Comprehension',
        subtitle: 'Cr√©er un dictionnaire de mani√®re concise.',
        type: 'returns-value',
        explanation: {
            description: "Similaire aux list comprehensions, permet de cr√©er un nouveau dictionnaire de mani√®re compacte et lisible.",
            arguments: "<p>Syntaxe : <code>{key_expr: val_expr for item in iterable if condition}</code>.</p>",
            returns: "Un <strong>nouveau dictionnaire</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Cr√©er un dictionnaire de features au carr√© ---</span>
<span class="variable">features</span> = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]
<span class="variable">valeurs</span> = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]
<span class="variable">features_carre</span> = {<span class="variable">k</span>: <span class="variable">v</span>**<span class="number">2</span> <span class="keyword">for</span> <span class="variable">k</span>, <span class="variable">v</span> <span class="keyword">in</span> <span class="function">zip</span>(<span class="variable">features</span>, <span class="variable">valeurs</span>)}
<span class="function">print</span>(<span class="variable">features_carre</span>) <span class="comment"># {'a': 4, 'b': 9, 'c': 16}</span>`
    },
];

// --- BASE DE DONN√âES POUR LES ENSEMBLES (SET) ---
const setMethods = [
    {
        title: 'set(iterable)',
        subtitle: 'Cr√©er un ensemble (et d√©dupliquer).',
        type: 'returns-value',
        explanation: {
            description: "Cr√©e un ensemble √† partir d'un it√©rable (liste, tuple, etc.). L'usage le plus courant en data analysis est de l'utiliser pour obtenir instantan√©ment les valeurs uniques d'une liste ou d'une colonne de DataFrame.",
            arguments: "<li><code>iterable</code> (optionnel): L'it√©rable pour peupler l'ensemble.</li>",
            returns: "Un <strong>nouvel ensemble</strong> avec les √©l√©ments uniques de l'it√©rable."
        },
        code: `<span class="comment"># --- Cas m√©tier : Obtenir les cat√©gories de produits uniques ---</span>
<span class="variable">ventes_cat</span> = [<span class="string">'livre'</span>, <span class="string">'jeu'</span>, <span class="string">'livre'</span>, <span class="string">'film'</span>, <span class="string">'jeu'</span>]
<span class="variable">categories_uniques</span> = <span class="function">set</span>(<span class="variable">ventes_cat</span>)
<span class="function">print</span>(<span class="variable">categories_uniques</span>) <span class="comment"># {'jeu', 'film', 'livre'} (l'ordre n'est pas garanti)</span>`
    },
    {
        title: 'set.add(elem)',
        subtitle: 'Ajouter un √©l√©ment.',
        type: 'modifies-inplace',
        explanation: {
            description: "Ajoute un √©l√©ment √† l'ensemble. Si l'√©l√©ment est d√©j√† pr√©sent, l'ensemble reste inchang√©.",
            arguments: "<li><code>elem</code> (obligatoire): L'√©l√©ment √† ajouter.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>). Modifie l'ensemble directement.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Ajouter un nouvel ID client √† un groupe ---</span>
<span class="variable">clients_vip</span> = {<span class="number">101</span>, <span class="number">102</span>, <span class="number">103</span>}
<span class="variable">clients_vip</span>.<span class="function">add</span>(<span class="number">104</span>)
<span class="variable">clients_vip</span>.<span class="function">add</span>(<span class="number">101</span>) <span class="comment"># Ne fait rien, 101 est d√©j√† l√†</span>
<span class="function">print</span>(<span class="variable">clients_vip</span>) <span class="comment"># {101, 102, 103, 104}</span>`
    },
    {
        title: 'set.remove(elem)',
        subtitle: 'Retirer un √©l√©ment (l√®ve une erreur si absent).',
        type: 'modifies-inplace',
        explanation: {
            description: "Retire un √©l√©ment de l'ensemble. L√®ve une exception <code>KeyError</code> si l'√©l√©ment n'est pas trouv√©.",
            arguments: "<li><code>elem</code> (obligatoire): L'√©l√©ment √† retirer.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>).</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Retirer un ID d'une liste de diffusion ---</span>
<span class="variable">utilisateurs_actifs</span> = {<span class="string">'a@mail.com'</span>, <span class="string">'b@mail.com'</span>, <span class="string">'c@mail.com'</span>}
<span class="variable">utilisateurs_actifs</span>.<span class="function">remove</span>(<span class="string">'c@mail.com'</span>)
<span class="comment"># utilisateurs_actifs.remove('d@mail.com') # L√®verait une KeyError</span>`
    },
    {
        title: 'set.discard(elem)',
        subtitle: 'Retirer un √©l√©ment (sans erreur si absent).',
        type: 'modifies-inplace',
        explanation: {
            description: "Retire un √©l√©ment de l'ensemble s'il est pr√©sent. Ne fait rien (et ne l√®ve pas d'erreur) si l'√©l√©ment n'est pas trouv√©. C'est la version 's√ªre' de <code>.remove()</code>.",
            arguments: "<li><code>elem</code> (obligatoire): L'√©l√©ment √† retirer.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>).</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Nettoyer une liste de stop-words ---</span>
<span class="variable">mots</span> = {<span class="string">'ceci'</span>, <span class="string">'est'</span>, <span class="string">'un'</span>, <span class="string">'test'</span>}
<span class="variable">mots</span>.<span class="function">discard</span>(<span class="string">'un'</span>)
<span class="variable">mots</span>.<span class="function">discard</span>(<span class="string">'le'</span>) <span class="comment"># Ne fait rien, pas d'erreur</span>
<span class="function">print</span>(<span class="variable">mots</span>) <span class="comment"># {'ceci', 'est', 'test'}</span>`
    },
    {
        title: 'set.union(other) | set | other',
        subtitle: 'Faire l\'union de deux ensembles.',
        type: 'returns-value',
        explanation: {
            description: "Retourne un nouvel ensemble contenant tous les √©l√©ments de l'ensemble initial et de tous les autres ensembles pass√©s en argument.",
            arguments: "<li><code>other</code> (obligatoire): L'autre ensemble (ou it√©rable) √† unir.</li>",
            returns: "Un <strong>nouvel ensemble</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Obtenir la liste de tous les clients (actifs et inactifs) ---</span>
<span class="variable">clients_actifs</span> = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>}
<span class="variable">clients_inactifs</span> = {<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>}
<span class="variable">tous_les_clients</span> = <span class="variable">clients_actifs</span>.<span class="function">union</span>(<span class="variable">clients_inactifs</span>)
<span class="comment"># Version avec op√©rateur: tous_les_clients = clients_actifs | clients_inactifs</span>
<span class="function">print</span>(<span class="variable">tous_les_clients</span>) <span class="comment"># {1, 2, 3, 4, 5}</span>`
    },
    {
        title: 'set.intersection(other) | set & other',
        subtitle: 'Faire l\'intersection de deux ensembles.',
        type: 'returns-value',
        explanation: {
            description: "Retourne un nouvel ensemble contenant uniquement les √©l√©ments pr√©sents √† la fois dans l'ensemble initial et dans tous les autres.",
            arguments: "<li><code>other</code> (obligatoire): L'autre ensemble (ou it√©rable).</li>",
            returns: "Un <strong>nouvel ensemble</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Trouver les clients ayant achet√© Produit A ET Produit B ---</span>
<span class="variable">acheteurs_A</span> = {<span class="string">'Alice'</span>, <span class="string">'Bob'</span>, <span class="string">'Charlie'</span>}
<span class="variable">acheteurs_B</span> = {<span class="string">'Bob'</span>, <span class="string">'David'</span>, <span class="string">'Alice'</span>}
<span class="variable">acheteurs_AB</span> = <span class="variable">acheteurs_A</span>.<span class="function">intersection</span>(<span class="variable">acheteurs_B</span>)
<span class="function">print</span>(<span class="variable">acheteurs_AB</span>) <span class="comment"># {'Alice', 'Bob'}</span>`
    },
    {
        title: 'set.difference(other) | set - other',
        subtitle: 'Faire la diff√©rence entre deux ensembles.',
        type: 'returns-value',
        explanation: {
            description: "Retourne un nouvel ensemble contenant les √©l√©ments de l'ensemble initial qui ne sont pas dans l'autre.",
            arguments: "<li><code>other</code> (obligatoire): L'autre ensemble (ou it√©rable).</li>",
            returns: "Un <strong>nouvel ensemble</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Trouver les clients qui ont abandonn√© leur panier ---</span>
<span class="variable">visiteurs</span> = {<span class="string">'u1'</span>, <span class="string">'u2'</span>, <span class="string">'u3'</span>, <span class="string">'u4'</span>}
<span class="variable">acheteurs</span> = {<span class="string">'u2'</span>, <span class="string">'u4'</span>}
<span class="variable">abandons</span> = <span class="variable">visiteurs</span>.<span class="function">difference</span>(<span class="variable">acheteurs</span>)
<span class="function">print</span>(<span class="variable">abandons</span>) <span class="comment"># {'u1', 'u3'}</span>`
    },
    {
        title: 'set.symmetric_difference(other) | set ^ other',
        subtitle: 'Faire la diff√©rence sym√©trique.',
        type: 'returns-value',
        explanation: {
            description: "Retourne un nouvel ensemble avec les √©l√©ments qui sont dans l'un ou l'autre ensemble, mais pas dans les deux.",
            arguments: "<li><code>other</code> (obligatoire): L'autre ensemble (ou it√©rable).</li>",
            returns: "Un <strong>nouvel ensemble</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Identifier les utilisateurs uniques √† chaque test A/B ---</span>
<span class="variable">groupe_A</span> = {<span class="string">'u1'</span>, <span class="string">'u2'</span>, <span class="string">'u3'</span>}
<span class="variable">groupe_B</span> = {<span class="string">'u3'</span>, <span class="string">'u4'</span>, <span class="string">'u5'</span>}
<span class="variable">uniques_a_chaque_groupe</span> = <span class="variable">groupe_A</span>.<span class="function">symmetric_difference</span>(<span class="variable">groupe_B</span>)
<span class="function">print</span>(<span class="variable">uniques_a_chaque_groupe</span>) <span class="comment"># {'u1', 'u2', 'u4', 'u5'}</span>`
    },
    {
        title: 'set.issubset(other) | set <= other',
        subtitle: 'V√©rifier si un ensemble est un sous-ensemble.',
        type: 'returns-value',
        explanation: {
            description: "Teste si tous les √©l√©ments de l'ensemble se trouvent dans <code>other</code>.",
            arguments: "<li><code>other</code> (obligatoire): L'ensemble conteneur potentiel.</li>",
            returns: "Un <strong>bool√©en</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Valider qu'un utilisateur a les permissions requises ---</span>
<span class="variable">permissions_requises</span> = {<span class="string">'read'</span>, <span class="string">'write'</span>}
<span class="variable">permissions_user</span> = {<span class="string">'read'</span>, <span class="string">'write'</span>, <span class="string">'execute'</span>}
<span class="keyword">if</span> <span class="variable">permissions_requises</span>.<span class="function">issubset</span>(<span class="variable">permissions_user</span>):
    <span class="function">print</span>(<span class="string">"Acc√®s autoris√©"</span>) <span class="comment"># Affiche "Acc√®s autoris√©"</span>`
    },
    {
        title: 'set.issuperset(other) | set >= other',
        subtitle: 'V√©rifier si un ensemble est un sur-ensemble.',
        type: 'returns-value',
        explanation: {
            description: "Teste si l'ensemble contient tous les √©l√©ments de <code>other</code>.",
            arguments: "<li><code>other</code> (obligatoire): L'ensemble potentiellement contenu.</li>",
            returns: "Un <strong>bool√©en</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : V√©rifier si un segment de clients contient un sous-segment ---</span>
<span class="variable">clients_europe</span> = {<span class="string">'fr'</span>, <span class="string">'de'</span>, <span class="string">'es'</span>, <span class="string">'it'</span>}
<span class="variable">clients_strategiques</span> = {<span class="string">'fr'</span>, <span class="string">'de'</span>}
<span class="keyword">if</span> <span class="variable">clients_europe</span>.<span class="function">issuperset</span>(<span class="variable">clients_strategiques</span>):
    <span class="function">print</span>(<span class="string">"Tous les clients strat√©giques sont en Europe."</span>)`
    },
    {
        title: 'set.update(other) | set |= other',
        subtitle: 'Mettre √† jour un ensemble (union sur place).',
        type: 'modifies-inplace',
        explanation: {
            description: "Ajoute tous les √©l√©ments de <code>other</code> √† l'ensemble. C'est la version 'sur place' de <code>.union()</code>.",
            arguments: "<li><code>other</code> (obligatoire): Un ou plusieurs it√©rables.</li>",
            returns: "<p>Ne retourne rien (<code>None</code>).</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Agr√©ger des listes d'utilisateurs de plusieurs campagnes ---</span>
<span class="variable">utilisateurs</span> = {<span class="string">'u1'</span>, <span class="string">'u2'</span>}
<span class="variable">nouveaux_users_campagne1</span> = [<span class="string">'u2'</span>, <span class="string">'u3'</span>]
<span class="variable">nouveaux_users_campagne2</span> = {<span class="string">'u4'</span>}
<span class="variable">utilisateurs</span>.<span class="function">update</span>(<span class="variable">nouveaux_users_campagne1</span>, <span class="variable">nouveaux_users_campagne2</span>)
<span class="function">print</span>(<span class="variable">utilisateurs</span>) <span class="comment"># {'u1', 'u2', 'u3', 'u4'}</span>`
    },
];

// --- BASE DE DONN√âES POUR LES TUPLES (TUPLE) ---
const tupleMethods = [
    {
        title: 'Cr√©ation ()',
        subtitle: 'Cr√©er un tuple (immutable).',
        type: 'returns-value',
        explanation: {
            description: "Un tuple est une collection ordonn√©e et **non modifiable** (immutable). On l'utilise pour des donn√©es qui ne doivent pas changer, comme des coordonn√©es ou des cl√©s de dictionnaire composites. La virgule est essentielle pour les tuples √† un seul √©l√©ment : <code>(item,)</code>.",
            arguments: "<li>Les √©l√©ments sont s√©par√©s par des virgules, entre parenth√®ses.</li>",
            returns: "Un <strong>nouveau tuple</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Stocker des coordonn√©es g√©ographiques immuables ---</span>
<span class="variable">coordonnees_paris</span> = (<span class="number">48.8566</span>, <span class="number">2.3522</span>)
<span class="function">print</span>(<span class="variable">coordonnees_paris</span>)

<span class="comment"># --- Erreur car un tuple ne peut pas √™tre modifi√© ---</span>
<span class="comment"># coordonnees_paris[0] = 49.0 # L√®verait une TypeError</span>`
    },
    {
        title: 'Tuple Unpacking',
        subtitle: 'Assigner les valeurs du tuple √† des variables.',
        type: 'returns-value',
        explanation: {
            description: "C'est l'une des fonctionnalit√©s les plus utiles des tuples. Elle permet d'assigner chaque √©l√©ment d'un tuple √† une variable distincte en une seule ligne. Tr√®s courant pour les fonctions qui retournent plusieurs valeurs.",
            arguments: "<p>Le nombre de variables √† gauche doit correspondre au nombre d'√©l√©ments dans le tuple.</p>",
            returns: "<p>Ne retourne rien. Assigne des valeurs aux variables.</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : R√©cup√©rer plusieurs r√©sultats d'une fonction ---</span>
<span class="keyword">def</span> <span class="function">get_min_max_sales</span>(<span class="variable">sales_list</span>):
    <span class="keyword">return</span> <span class="function">min</span>(<span class="variable">sales_list</span>), <span class="function">max</span>(<span class="variable">sales_list</span>)

<span class="variable">ventes</span> = [<span class="number">150</span>, <span class="number">450</span>, <span class="number">120</span>, <span class="number">800</span>]
<span class="variable">vente_min</span>, <span class="variable">vente_max</span> = <span class="function">get_min_max_sales</span>(<span class="variable">ventes</span>)
<span class="function">print</span>(<span class="string">f"Vente min: {vente_min}, Vente max: {vente_max}"</span>) <span class="comment"># Min: 120, Max: 800</span>`
    },
    {
        title: 'tuple.count(value)',
        subtitle: 'Compter les occurrences d\'une valeur.',
        type: 'returns-value',
        explanation: {
            description: "Retourne le nombre de fois que la valeur <code>value</code> appara√Æt dans le tuple.",
            arguments: "<li><code>value</code> (obligatoire): La valeur √† compter.</li>",
            returns: "Un <strong>entier</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Compter les statuts dans un journal d'√©v√©nements ---</span>
<span class="variable">statuts</span> = (<span class="string">'OK'</span>, <span class="string">'OK'</span>, <span class="string">'ERROR'</span>, <span class="string">'OK'</span>, <span class="string">'TIMEOUT'</span>, <span class="string">'OK'</span>)
<span class="variable">nb_ok</span> = <span class="variable">statuts</span>.<span class="function">count</span>(<span class="string">'OK'</span>)
<span class="function">print</span>(<span class="string">f"Nombre de succ√®s: {nb_ok}"</span>) <span class="comment"># 4</span>`
    },
    {
        title: 'tuple.index(value)',
        subtitle: 'Trouver l\'index de la premi√®re occurrence.',
        type: 'returns-value',
        explanation: {
            description: "Retourne l'index de la premi√®re occurrence de la valeur <code>value</code>. L√®ve une <code>ValueError</code> si la valeur n'est pas trouv√©e.",
            arguments: "<li><code>value</code> (obligatoire): La valeur √† trouver.</li>",
            returns: "L'<strong>index</strong> (entier) de la valeur."
        },
        code: `<span class="comment"># --- Cas m√©tier : Trouver la position d'une colonne dans un sch√©ma fixe ---</span>
<span class="variable">schema_db</span> = (<span class="string">'user_id'</span>, <span class="string">'timestamp'</span>, <span class="string">'action'</span>, <span class="string">'details'</span>)
<span class="variable">position_action</span> = <span class="variable">schema_db</span>.<span class="function">index</span>(<span class="string">'action'</span>)
<span class="function">print</span>(<span class="string">f"La colonne 'action' est √† l'index {position_action}"</span>) <span class="comment"># 2</span>`
    },
    {
        title: 'Immutabilit√© et Hachage',
        subtitle: 'Utiliser un tuple comme cl√© de dictionnaire.',
        type: 'returns-value',
        explanation: {
            description: "Parce qu'ils sont immuables, les tuples sont 'hachables' (hashable). Cela signifie qu'ils peuvent √™tre utilis√©s comme cl√©s dans un dictionnaire, contrairement aux listes. C'est tr√®s utile pour des cl√©s composites.",
            arguments: "<p>Aucun.</p>",
            returns: "<p>N/A</p>"
        },
        code: `<span class="comment"># --- Cas m√©tier : Stocker des donn√©es par paire (pays, ville) ---</span>
<span class="variable">ventes_par_ville</span> = {}
<span class="variable">ventes_par_ville</span>[(<span class="string">'France'</span>, <span class="string">'Paris'</span>)] = <span class="number">15000</span>
<span class="variable">ventes_par_ville</span>[(<span class="string">'Japon'</span>, <span class="string">'Tokyo'</span>)] = <span class="number">22000</span>

<span class="function">print</span>(<span class="variable">ventes_par_ville</span>[(<span class="string">'France'</span>, <span class="string">'Paris'</span>)]) <span class="comment"># 15000</span>`
    },
    {
        title: 'len(tuple)',
        subtitle: 'Obtenir le nombre d\'√©l√©ments.',
        type: 'returns-value',
        explanation: {
            description: "Fonction int√©gr√©e qui retourne la longueur (le nombre d'√©l√©ments) du tuple.",
            arguments: "<li><code>tuple</code> (obligatoire): Le tuple √† mesurer.</li>",
            returns: "Un <strong>entier</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Valider le format d'un enregistrement ---</span>
<span class="variable">enregistrement</span> = (<span class="number">101</span>, <span class="string">'Alice'</span>, <span class="string">'alice@email.com'</span>)
<span class="keyword">if</span> <span class="function">len</span>(<span class="variable">enregistrement</span>) == <span class="number">3</span>:
    <span class="function">print</span>(<span class="string">"Format de l'enregistrement valide."</span>)`
    },
    {
        title: 'Slicing [:] et Indexation []',
        subtitle: 'Acc√©der aux √©l√©ments.',
        type: 'returns-value',
        explanation: {
            description: "Comme les listes, les tuples permettent d'acc√©der √† un √©l√©ment par son index et de cr√©er de nouveaux tuples en utilisant le slicing <code>[start:stop:step]</code>.",
            arguments: "<p>M√™mes arguments que pour les listes.</p>",
            returns: "Un √©l√©ment ou un <strong>nouveau tuple</strong>."
        },
        code: `<span class="comment"># --- Cas m√©tier : Extraire des parties d'une date/heure ---</span>
<span class="variable">datetime_record</span> = (<span class="number">2023</span>, <span class="number">10</span>, <span class="number">26</span>, <span class="number">15</span>, <span class="number">45</span>, <span class="number">0</span>)
<span class="variable">date_part</span> = <span class="variable">datetime_record</span>[:<span class="number">3</span>]
<span class="variable">time_part</span> = <span class="variable">datetime_record</span>[<span class="number">3</span>:]
<span class="function">print</span>(<span class="string">f"Date: {date_part}"</span>) <span class="comment"># (2023, 10, 26)</span>
<span class="function">print</span>(<span class="string">f"Heure: {time_part}"</span>) <span class="comment"># (15, 45, 0)</span>`
    },
];

    document.addEventListener('DOMContentLoaded', () => {

        // --- 2. FONCTIONS DE G√âN√âRATION ET D'AFFICHAGE DU HTML ---

        /**
         * G√©n√®re le HTML pour un seul bloc de m√©thode.
         * @param {object} method - L'objet contenant les infos de la m√©thode.
         * @param {number} index - L'index de la m√©thode, pour des IDs uniques (accessibilit√©).
         * @returns {string} Le code HTML du bloc.
         */
        function generateMethodHTML(method, index) {
            const indicatorClass = method.type === 'modifies-inplace' ? 'modifies-inplace' : 'returns-value';
            // Accessibilit√©: on lie le header au contenu avec des IDs uniques.
            const headerId = `str-header-${index}`;
            const contentId = `str-content-${index}`;
            
            return `
                <div class="code-block">
                    <div class="code-header" id="${headerId}" aria-expanded="false" aria-controls="${contentId}">
                        <div class="code-title-container">
                            <span class="indicator ${indicatorClass}"></span>
                            <span class="code-title">${method.title}</span>
                            <span class="code-subtitle">${method.subtitle}</span>
                        </div>
                        <i data-lucide="chevron-down" class="toggle-explanation"></i>
                        <button class="copy-btn">Copier</button>
                    </div>
                    <div class="code-content-wrapper" id="${contentId}" role="region" aria-labelledby="${headerId}">
                        <div class="code-content">
                            <div class="explanation-content">
                                <h4>Description</h4><p>${method.explanation.description}</p>
                                <h4>Arguments</h4><ul>${method.explanation.arguments}</ul>
                                <h4>Retourne</h4><p>${method.explanation.returns}</p>
                            </div>
                            <pre><code>${method.code}</code></pre>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * Affiche les m√©thodes dans le conteneur HTML.
         * @param {array} methodsToRender - Le tableau de m√©thodes √† afficher.
         */
        function renderMethods(methodsToRender) {
            const container = document.getElementById('strings-content-container');
            if (!container) return;

            if (methodsToRender.length === 0) {
                container.innerHTML = '<p style="text-align:center; color: var(--couleur-texte-clair);">Aucune m√©thode trouv√©e.</p>';
                return;
            }
            
            // On g√©n√®re tout le HTML d'un coup et on l'injecte pour de meilleures performances.
            container.innerHTML = methodsToRender.map(generateMethodHTML).join('');
            
            // On r√©active les ic√¥nes apr√®s avoir inject√© le nouveau HTML
            lucide.createIcons();
            
            // On r√©-observe les nouveaux √©l√©ments pour l'animation
            document.querySelectorAll('.code-block:not(.is-visible)').forEach(block => observer.observe(block));
        }


        // TROUVE ET REMPLACE L'ANCIEN BLOC PAR CELUI-CI
// --- 3. GESTION DES √âV√âNEMENTS (VERSION AM√âLIOR√âE) ---

// G√®re le pliage/d√©pliage pour TOUTES les sections principales
document.querySelectorAll('.section-header').forEach(header => {
    header.addEventListener('click', () => {
        header.classList.toggle('collapsed');
        header.nextElementSibling.classList.toggle('collapsed');
        header.querySelector('.section-toggle-icon').classList.toggle('collapsed');
        // NOUVEAU: Mettre √† jour l'attribut ARIA pour l'accessibilit√©
        const isCollapsed = header.classList.contains('collapsed');
        header.setAttribute('aria-expanded', !isCollapsed);
    });
});

// G√®re les clics sur les m√©thodes (copier, d√©plier) pour TOUTE la page
document.querySelector('main').addEventListener('click', (event) => {
    const header = event.target.closest('.code-header');
    const copyBtn = event.target.closest('.copy-btn');

    if (copyBtn) {
        const codeElement = copyBtn.closest('.code-block').querySelector('pre');
        navigator.clipboard.writeText(codeElement.innerText).then(() => {
            copyBtn.textContent = 'Copi√© !';
            setTimeout(() => { copyBtn.textContent = 'Copier'; }, 2000);
        });
        return;
    }

    if (header) {
        const wrapper = header.nextElementSibling;
        const icon = header.querySelector('.toggle-explanation');
        const isExpanded = header.getAttribute('aria-expanded') === 'true';
        wrapper.classList.toggle('open');
        icon.classList.toggle('open');
        header.setAttribute('aria-expanded', !isExpanded);
    }
});

// G√®re les boutons "Tout D√©plier/Plier" pour CHAQUE section
function setupSectionControls(sectionId) {
    const section = document.getElementById(sectionId);
    if (!section) return;

    const expandBtn = document.getElementById(`expand-all-${sectionId}`);
    const collapseBtn = document.getElementById(`collapse-all-${sectionId}`);

    if(expandBtn) {
        expandBtn.addEventListener('click', () => {
            section.querySelectorAll('.code-header').forEach(header => {
                header.setAttribute('aria-expanded', 'true');
                header.nextElementSibling.classList.add('open');
                header.querySelector('.toggle-explanation').classList.add('open');
            });
        });
    }

    if(collapseBtn) {
        collapseBtn.addEventListener('click', () => {
            section.querySelectorAll('.code-header').forEach(header => {
                header.setAttribute('aria-expanded', 'false');
                header.nextElementSibling.classList.remove('open');
                header.querySelector('.toggle-explanation').classList.remove('open');
            });
        });
    }
}


// TROUVEZ ET REMPLACEZ LES BLOCS CORRESPONDANTS DANS VOTRE SCRIPT

// --- 4. LOGIQUE DE RECHERCHE/FILTRAGE (VERSION FINALE) ---
const searchInput = document.getElementById('search-input');
// NOUVEAU: Ajout des tuples √† l'objet de recherche
const allMethods = { 
    strings: stringMethods, 
    lists: listMethods,
    dictionaries: dictionaryMethods,
    sets: setMethods,
    tuples: tupleMethods
};

searchInput.addEventListener('input', (e) => {
    const searchTerm = e.target.value.toLowerCase().trim();
    Object.keys(allMethods).forEach(key => {
        const filtered = allMethods[key].filter(method => 
            method.title.toLowerCase().includes(searchTerm) ||
            method.subtitle.toLowerCase().includes(searchTerm)
        );
        renderMethods(filtered, `${key}-content-container`);
    });
});


// --- 5. ANIMATION D'APPARITION AU D√âFILEMENT ---
// (Ce bloc ne change pas)
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
        }
    });
}, { threshold: 0.05 });


// --- 6. INITIALISATION DE LA PAGE (VERSION FINALE) ---
// (La fonction renderMethods ne change pas)
function renderMethods(methodsToRender, containerId) {
    const container = document.getElementById(containerId);
    if (!container) return;

    if (methodsToRender.length === 0) {
        container.innerHTML = '<p style="text-align:center; color: var(--couleur-texte-clair);">Aucune m√©thode trouv√©e.</p>';
    } else {
        container.innerHTML = methodsToRender.map((method, index) => 
            generateMethodHTML(method, `${containerId}-${index}`)
        ).join('');
    }
    
    lucide.createIcons();
    container.querySelectorAll('.code-block:not(.is-visible)').forEach(block => observer.observe(block));
}

// L'appel initial affiche les donn√©es pour chaque section
renderMethods(stringMethods, 'strings-content-container');
renderMethods(listMethods, 'lists-content-container');
renderMethods(dictionaryMethods, 'dictionaries-content-container');
renderMethods(setMethods, 'sets-content-container');
// NOUVEAU: Appel pour afficher les tuples
renderMethods(tupleMethods, 'tuples-content-container');


// Active les boutons pour chaque section
setupSectionControls('strings');
setupSectionControls('lists');
setupSectionControls('dictionaries');
setupSectionControls('sets');
// NOUVEAU: Activation des boutons pour les tuples
setupSectionControls('tuples');
        
    });
    
    // --- GESTION DU BOUTON GLOBAL "TOUT D√âPLIER / REPLIER" ---
const toggleAllBtn = document.getElementById('toggle-all-sections-btn');
if (toggleAllBtn) {
    toggleAllBtn.addEventListener('click', () => {
        const currentState = toggleAllBtn.dataset.state;
        const headers = document.querySelectorAll('.section-header');
        const btnText = toggleAllBtn.querySelector('span');
        
        if (currentState === 'collapsed') {
            // On d√©plie tout
            headers.forEach(header => {
                header.classList.remove('collapsed');
                header.nextElementSibling.classList.remove('collapsed');
                header.querySelector('.section-toggle-icon').classList.remove('collapsed');
                header.setAttribute('aria-expanded', 'true');
            });
            btnText.textContent = 'Tout Replier';
            toggleAllBtn.dataset.state = 'expanded';
        } else {
            // On replie tout
            headers.forEach(header => {
                header.classList.add('collapsed');
                header.nextElementSibling.classList.add('collapsed');
                header.querySelector('.section-toggle-icon').classList.add('collapsed');
                header.setAttribute('aria-expanded', 'false');
            });
            btnText.textContent = 'Tout D√©plier';
            toggleAllBtn.dataset.state = 'collapsed';
        }
        // Recr√©e l'ic√¥ne car on la manipule
        lucide.createIcons();
    });
}
    
    
    </script>
</body>
</html>
